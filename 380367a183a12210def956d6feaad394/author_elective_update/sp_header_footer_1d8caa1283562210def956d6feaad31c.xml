<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_header_footer">
    <sp_header_footer action="DELETE">
        <category>standard</category>
        <client_script><![CDATA[function pspHeaderController($rootScope, $scope, $window, spUtil, $location, $uibModal, cabrillo, $timeout, i18n, spContextManager) {
    var c = this;
    $scope.avatarProfile = {
		userID: $scope.user.sys_id,
		name: $scope.user.name,
		initials: $window.NOW.user_initials
	  };
	  if ($window.NOW.user_avatar) {
		$scope.avatarProfile.userImage = $window.NOW.user_avatar;
	  }
    // Events fired from/to $rootScope for responsive mobile view.
    c.SHOW_MOBILE_MEGA_MENU = 'showMobileMegaMenu';
    c.SHOW_MOBILE_MENU_ON_DESKTOP = 'showMobileMenuOnDesktop';
    c.TOGGLE_MOBILE_MENU_VISIBILITY = 'toggleMobileMenuVisibility';

    $scope.showSearchBar = true;
    $scope.userID = $scope.user.sys_id;
    $scope.popupType = c.data.isMobile ? 'collapse' : 'dropdown';
    $scope.expanded = false;
    $scope.isMobileViewOnDesktopExpanded = false;
    // $scope.loadingIndicator = $rootScope.loadingIndicator;

    /* Below 2 scope variables (showMobileMenuOnDesktop, showMobileMegaMenu) have counterparts in EC Navigation widget also.
     So whenever we set these variables, make sure to emit an event on rootScope to update them in the former widget as well. */

    // Determines whether to show mobile view on desktop due to oveflow of items in sub navigation bar of header.
    $scope.showMobileMenuOnDesktop = false;
    // Used to hide global navigation tools on mobile while showing mega menu topics in right panel.
    $scope.showMobileMegaMenu = false;

    c.MOBILE_DEVICE_SCREEN_WIDTH = 767;
    $scope.mobileDevice = c.data.isMobile || ($window.innerWidth <= c.MOBILE_DEVICE_SCREEN_WIDTH);

    if (cabrillo.isNative())
        $scope.isViewNative = true;


    $scope.$on("$sp.service_catalog.cart.count", function($evt, count) {
        $scope.cartItemCount = count;
    });

    $scope.$on("$locationChangeSuccess", function(event, data) {
        if (c.data.isMobile) {
            if ($('div#popup_todos_mobile').is(":visible"))
                $('li > a#todos_popup').click();
            else if ($('div#popup_cases_mobile').is(":visible"))
                $('li > a#cases_popup').click();
        } else {
            $('li.open > a#cases_popup').click();
            $('li.open > a#todos_popup').click();
        }
    });

    $scope.openLogin = function() {
        $scope.modalInstance = $uibModal.open({
            templateUrl: 'spPolarisModalLogin',
            scope: $scope
        });

        var pageRoot = angular.element('.sp-page-root');
        $scope.modalInstance.rendered.then(function() {
            var $uibModalStack = $injector.get('$uibModalStack');
            var modalObj = $uibModalStack.getTop();
            var modal = modalObj.value.modalDomEl;

            modal.attr('aria-label', modal.find('.panel-title').html());
            modal.attr('aria-modal', 'true');
            pageRoot.attr('aria-hidden', 'true');
        });

        $scope.modalInstance.closed.then(function() {
            pageRoot.attr('aria-hidden', 'false');
        });
    };

    $rootScope.$on("update.searchpage", function(e, searchPage) {
        $scope.searchPage = searchPage;
    });

    $rootScope.$on('sp.avatar_changed', function() {
        $scope.userID = '';
        $timeout(function() {
            $scope.userID = $scope.user.sys_id;
        });
    });

    $rootScope.$on(c.SHOW_MOBILE_MENU_ON_DESKTOP, function(event, showMobileMenuOnDesktop) {
        if (!showMobileMenuOnDesktop && $scope.showMobileMenuOnDesktop) {
            $scope.isMobileViewOnDesktopExpanded = false;
        }
        $scope.showMobileMenuOnDesktop = showMobileMenuOnDesktop;
    });

    $rootScope.$on(c.SHOW_MOBILE_MEGA_MENU, function(event, showMobileMegaMenu) {
        $scope.showMobileMegaMenu = showMobileMegaMenu;
    });

    $scope.toggleMobileMenuVisibility = function(event) {
        if (event) {
            event.stopPropagation();
        }
        $scope.isMobileViewOnDesktopExpanded = !$scope.isMobileViewOnDesktopExpanded;
        $scope.expanded = false;
        $scope.showMobileMegaMenu = false;
        $rootScope.$emit(c.SHOW_MOBILE_MEGA_MENU, false);
    };

    $rootScope.$on(c.TOGGLE_MOBILE_MENU_VISIBILITY, function() {
        $scope.toggleMobileMenuVisibility();
    });

    $scope.isHomepage = function() {
        if (!$scope.page.id)
            return true;

        if ($scope.page.id == $scope.portal.homepage_dv)
            return true;

        return false;
    };

    //remove nested ul to fix screen reader issue
    if (scope.data.top && scope.data.top.menu) {
        $timeout(function() {
            var cartToursWrapper = $('.navbar-header .v' + scope.data.top.menu.sys_id);

            if (!cartToursWrapper.length)
                return;

            var menu = cartToursWrapper.parent().parent();
            var menuItems = cartToursWrapper.children();
            menu.append(menuItems);
            // cartToursWrapper.parent().remove();
        }, 1000);
    }
}]]></client_script>
        <controller_as>c</controller_as>
        <css>.navbar-inverse {&#13;
  margin-bottom: 0px;&#13;
  border-radius: 0px; &#13;
  background-color: $navbar-inverse-bg;&#13;
  .navbar-header {&#13;
    &amp;.nav-container {&#13;
      width: 100%;&#13;
&#13;
      .sub-navbar-overflow-entry-button {&#13;
        position: relative;&#13;
        float: right;&#13;
        margin: 1.3rem 1.5rem 1.3rem 0;&#13;
        padding: .9rem 1rem;&#13;
        background-color: transparent;&#13;
        background-image: none;&#13;
        border: .1rem solid transparent;&#13;
        border-radius: .4rem;&#13;
        border-color: rgba(255, 255, 255, .25);&#13;
&#13;
       .label {&#13;
         float: right;&#13;
         margin-right: -.5rem;&#13;
         margin-top: -.7rem;&#13;
         padding: .2em .5em .2em;&#13;
       }&#13;
&#13;
       .label-as-badge {&#13;
          font-size: 1.2rem;&#13;
          position: relative;&#13;
          top: -$sp-space--xxs;&#13;
          left: $sp-space--xxs;&#13;
          padding: $sp-space--xxs 5px;&#13;
          margin-left: 0;&#13;
          background-color: $btn-danger-bg;&#13;
          color: $text-white;&#13;
        }&#13;
&#13;
        .icon-bar {&#13;
          display: block;&#13;
          width: 2.2rem;&#13;
          height: .2rem;&#13;
          border-radius: .1rem;&#13;
          background-color: #fff;&#13;
        }&#13;
        .icon-bar + .icon-bar {&#13;
          margin-top: .4rem;&#13;
        }&#13;
&#13;
        &amp;.close-icon-visible {&#13;
          margin-bottom: 0;&#13;
          padding: 0.6rem 1rem;&#13;
        }&#13;
        .fa.fa-close {&#13;
          vertical-align: -6%;&#13;
          font-size: 20px;&#13;
          width: 22px;&#13;
          color: $navbar-inverse-link-color;&#13;
        }&#13;
      }&#13;
    }&#13;
&#13;
    .mobile-view-on-desktop {&#13;
    	position: absolute;&#13;
      z-index: 999;&#13;
      /* 60px is height of the header strip */&#13;
      top: 60px;&#13;
      right: 0;&#13;
      min-height: 500px;&#13;
      max-width: 400px;&#13;
      background-color: $navbar-inverse-bg;&#13;
      box-shadow: 5px 5px 5px $navbar-inverse-link-color;&#13;
      color: $navbar-inverse-link-color;&#13;
&#13;
      .mobile-view-navbar {&#13;
         list-style: none;&#13;
         padding: 0 8px;&#13;
         margin: 0;&#13;
         display: flex;&#13;
         flex-direction: column;&#13;
         border-top: 1px solid darken($navbar-inverse-link-color, 45%);&#13;
&#13;
         .main-header-items {&#13;
           list-style: none;&#13;
           padding: 12px 0 0 16px;&#13;
           margin: 0;&#13;
           display: flex;&#13;
           flex-direction: column;&#13;
&#13;
           &amp; &gt; li {&#13;
             &amp;:not(:last-child) {&#13;
               padding-top: 16px;&#13;
             }&#13;
             // Cart, tours, and Wishlist (Mobile View)&#13;
             .nav.navbar-nav {&#13;
               display: flex;&#13;
               flex-direction: column;&#13;
&#13;
               li {&#13;
                 padding-top: 16px;&#13;
               }&#13;
             }&#13;
           }&#13;
         }&#13;
&#13;
         .mobile-mega-menu-entry {&#13;
           margin: 0 -8px;&#13;
           padding: 28px 16px;&#13;
           background-color: $sp-navbar-divider-color;&#13;
           &#13;
           .dropdown-menu {&#13;
           	background-color: transparent;&#13;
           }&#13;
         }&#13;
         .separator {&#13;
           margin: 20px -8px;&#13;
           border-top: 1px solid darken($navbar-inverse-link-color, 30%);&#13;
         }&#13;
&#13;
         li &gt; a {&#13;
           color: $navbar-inverse-link-color;&#13;
           padding: 0;&#13;
&#13;
           &amp;:hover, &amp;:focus {&#13;
             color: #fff !important;&#13;
             background-color: transparent;&#13;
           }&#13;
           &amp;:focus {&#13;
             box-shadow: inset 0 0 0 0.1rem #fff;&#13;
             padding: $sp-space--xxs * 2; // 4px&#13;
             border: 0.5px solid $navbar-inverse-link-color;&#13;
             border-radius: 4px;&#13;
           }&#13;
         }&#13;
        .header-menu-item &gt; a{&#13;
        	padding: 10px 8px;&#13;
        }&#13;
       }&#13;
&#13;
      .impersonate-and-logout {&#13;
          div &gt; ul &gt; li:first-child {&#13;
            height: 0;&#13;
&#13;
            ul.dropdown-menu {&#13;
              width: 400px;&#13;
              display: block;&#13;
              z-index: inherit;&#13;
              background-color: $navbar-inverse-bg;&#13;
              box-shadow: none;&#13;
              border-radius: 0;&#13;
              padding-left: 2px;&#13;
              padding-bottom: 16px;&#13;
&#13;
              li &gt; a {&#13;
                line-height: 2;&#13;
&#13;
                &amp;:hover, &amp;:focus {&#13;
                  color: #fff !important;&#13;
                  background-color: transparent;&#13;
                }&#13;
                &amp;:focus {&#13;
                  box-shadow: inset 0 0 0 0.1rem #fff;&#13;
                  padding: $sp-space--xxs * 2; // 4px&#13;
                  margin-left: $sp-space--sm * 2; // 16px&#13;
                  border: 0.5px solid $navbar-inverse-link-color;&#13;
                  border-radius: 4px;&#13;
                  width: fit-content;&#13;
                }&#13;
              }&#13;
              li:first-child {&#13;
                display: none;&#13;
              }&#13;
           }&#13;
         }&#13;
       }&#13;
     }&#13;
&#13;
    .navbar-brand {&#13;
      margin: 0;&#13;
      height: 60px;&#13;
      padding: $sp-logo-margin-y 0px 10px 15px;&#13;
      img, span {&#13;
        margin: 0;&#13;
        display: block;&#13;
        max-height: $sp-logo-max-height;&#13;
        max-width: $sp-logo-max-width;&#13;
        position: relative;&#13;
        top: 50%;&#13;
        -webkit-transform: translateY(-50%);&#13;
        -ms-transform: translateY(-50%);&#13;
        transform: translateY(-50%);&#13;
	padding-right: $sp-space--sm;&#13;
      }&#13;
    }&#13;
&#13;
    .navbar-right .dropdown-menu &gt; li &gt; a {&#13;
      &amp;:hover, &amp;:focus {&#13;
        background-color: darken($navbar-inverse-bg, 8%);&#13;
      }&#13;
&#13;
      &amp;:focus {&#13;
        border: 0.5px solid $navbar-inverse-link-color;&#13;
        border-radius: 4px;&#13;
        box-shadow: inset 0 0 0 0.1rem #fff;&#13;
      }&#13;
    }&#13;
  }&#13;
  .dropdown-menu &gt; li &gt; a {&#13;
    color: $navbar-inverse-link-color;&#13;
  }&#13;
  .dropdown-toggle:focus {&#13;
  	outline: thin dotted;&#13;
    outline: 5px auto -webkit-focus-ring-color;&#13;
  }&#13;
  .sub-navbar {&#13;
    background-color: $sp-navbar-divider-color;&#13;
    border: none;&#13;
    width: 100%;&#13;
   &#13;
    #cart-dropdown, #wishlist-menu {&#13;
      display: none;&#13;
      ~ * {&#13;
        display: none !important;&#13;
      }&#13;
    }&#13;
    .navbar-nav &gt; li &gt; a[href="?id=sc_cart"], .navbar-nav &gt; li &gt; a[href="?id=sc_wishlist"] {&#13;
      display: none !important;&#13;
    }&#13;
    .gtd-dropdown-container {&#13;
      display: none;&#13;
    }&#13;
    .open &gt; a, .open &gt; a:focus {&#13;
      background-color: darken($sp-navbar-divider-color, 8%);&#13;
    }&#13;
    #cart-dropdown {&#13;
      display: none;&#13;
      :after {&#13;
        content: "\f0d7";&#13;
        vertical-align: baseline;&#13;
        width: auto;&#13;
        height: auto;&#13;
        border: none;&#13;
        margin-left: 5px !important;&#13;
        display: inline-block;&#13;
        font: normal normal normal 14px/1 FontAwesome;&#13;
        font-size: inherit;&#13;
        text-rendering: auto;&#13;
        -webkit-font-smoothing: antialiased;&#13;
        -moz-osx-font-smoothing: grayscale;&#13;
      }&#13;
    }&#13;
   &#13;
    .dropdown-menu {&#13;
      background-color: $sp-navbar-divider-color;&#13;
      &gt; li &gt; a:hover, &gt; li &gt; a:focus {&#13;
        background-color: darken($sp-navbar-divider-color, 8%);&#13;
	box-shadow:unset;&#13;
      }&#13;
    }&#13;
  }&#13;
  .dropdown-menu {&#13;
    background-color: rgba($navbar-inverse-bg, 0.97);&#13;
    border: none;&#13;
    &amp;.case-menu {&#13;
      right: 0;&#13;
      left: auto;&#13;
      padding: 0;&#13;
      width: 450px;&#13;
      background: $color-lightest;&#13;
      overflow-y: hidden;&#13;
    }&#13;
  }&#13;
  &gt; .open &gt; a:hover, &gt; .open &gt; a:focus  {&#13;
    background-color: darken($navbar-invese-bg, 8%);&#13;
  }&#13;
  .fa-caret-down {&#13;
    vertical-align: middle;&#13;
    margin-top: 2px;&#13;
  }&#13;
  .caret:before {&#13;
    content: "\f0d7";&#13;
  }&#13;
  .caret {&#13;
    vertical-align: baseline;&#13;
    width: auto;&#13;
    height: auto;&#13;
    border: none;&#13;
    margin-left: 5px !important;&#13;
    display: inline-block;&#13;
    font: normal normal normal 14px/1 FontAwesome;&#13;
    font-size: inherit;&#13;
    text-rendering: auto;&#13;
    -webkit-font-smoothing: antialiased;&#13;
    -moz-osx-font-smoothing: grayscale;&#13;
  }&#13;
  .label-as-badge {&#13;
    font-size: 1.2rem;&#13;
    position: relative;&#13;
    top: -$sp-space--sm;&#13;
    left: -$sp-space--xxs;&#13;
    padding: 1px 5px;&#13;
    margin-left: 0;&#13;
    background-color: $btn-danger-bg;&#13;
    color: $text-white;&#13;
  }&#13;
  .navbar {&#13;
    transition: 250ms opacity ease-in-out; &#13;
    -webkit-transition: 250ms opacity ease-in-out; &#13;
    border: 0;&#13;
  }&#13;
  .navbar-fade {&#13;
    opacity: 0.4;&#13;
  }&#13;
  .navbar-collapse {&#13;
    padding-right: 0px;&#13;
  }&#13;
  .case-menu {&#13;
    div#widget-tabs-2 {&#13;
      border: none;&#13;
      &gt; .panel-heading {&#13;
        border: none;&#13;
        border-bottom: 1px solid $border;&#13;
      }&#13;
    }&#13;
  }&#13;
&#13;
  ul.nav.navbar-nav {&#13;
    // Hiding the loading indicator from Header Menu base system widget&#13;
    div.header-loader {&#13;
       display: none;&#13;
    }&#13;
    li.sp-loading-indicator {&#13;
       padding-top: $sp-space--sm * 3;&#13;
       margin-top: $sp-space--xxs;&#13;
    }&#13;
  }&#13;
  &#13;
  #more-items-dropdown {&#13;
    overflow: visible;&#13;
  }&#13;
&#13;
  .cart-dropdown, .wishlist-menu, .gtd-dropdown-container .empty-dropdown {&#13;
    width: 350px;&#13;
    padding: 0;&#13;
    z-index: 1000;&#13;
    border-top-left-radius: 4px !important;&#13;
    border-top-right-radius: 4px !important;&#13;
&#13;
    ul {&#13;
      max-height: 300px;&#13;
      overflow: auto;&#13;
    }&#13;
&#13;
    .subtotal {&#13;
      display: block;&#13;
    }&#13;
&#13;
    .item-image {&#13;
      padding: 0;&#13;
      margin: 0;&#13;
      text-align: center;&#13;
      max-width:100%;&#13;
      height:auto;&#13;
    }&#13;
    label, p {&#13;
      padding: 0;&#13;
      margin: 0;&#13;
    }&#13;
    .media {&#13;
      padding: 0;&#13;
      margin: 0;&#13;
    }&#13;
    .media-left &gt; a {&#13;
      display: block;&#13;
      width: 48px;&#13;
      max-width: 48px;&#13;
    }&#13;
    .media-body {&#13;
      label {&#13;
        font-weight: bold;&#13;
      }&#13;
    }&#13;
    li.media {&#13;
      border-top: 1px solid #cccccc;&#13;
      padding: 1rem;&#13;
    }&#13;
    .panel {&#13;
      margin: 0;&#13;
    }&#13;
    .panel .panel-body {&#13;
      padding: 0;&#13;
    }&#13;
    .btn-clear {&#13;
      color: #333;&#13;
      background-color: #fff;&#13;
    }&#13;
    p.quantity-price {&#13;
      padding-top: 0.5rem;&#13;
      span {&#13;
        color: $text-muted;&#13;
        padding-right: 0.5rem;&#13;
      }&#13;
    }&#13;
    .align-right {&#13;
      text-align: right;&#13;
    }&#13;
  }&#13;
&#13;
  .item-added-tooltip, wishlist-item-added-tooltip {&#13;
    width: 184px;&#13;
    font-size: 14px;&#13;
  }&#13;
&#13;
  .gtd-dropdown-container {&#13;
    .empty-tour-content {&#13;
      text-align: center;&#13;
      margin:40px 20px;&#13;
    }&#13;
    .dropdown-menu li {&#13;
      a {&#13;
        cursor: pointer;&#13;
      }&#13;
      min-width: 20em;&#13;
    }&#13;
    .label-as-badge {&#13;
      width: 12px;&#13;
      height: 12px;&#13;
      display: inline-block;&#13;
      padding: 0px;&#13;
      padding-top: 2px;&#13;
    }&#13;
    .badge-container {&#13;
      display: inline-block;&#13;
      width: 12px;&#13;
    }&#13;
  }&#13;
&#13;
}&#13;
@media screen and (min-width: 768px) {&#13;
  .navbar-inverse {&#13;
    .navbar-right &gt; .navbar-nav &gt; div {&#13;
      float: left;&#13;
    }&#13;
    .navbar-right {&#13;
      margin-right: 10px;&#13;
      &gt; ul {&#13;
        display: -webkit-box;&#13;
        display: -moz-box;&#13;
        display: box;&#13;
&#13;
        -moz-box-orient: horizontal;&#13;
        box-orient: horizontal; &#13;
        -webkit-box-orient: horizontal;&#13;
      }&#13;
      .navbar-nav &gt; li &gt; a {&#13;
        padding-right: 10px;&#13;
        padding-left: 10px;&#13;
      }&#13;
      .header-menu-item &gt; a{&#13;
        	padding: 10px 8px;&#13;
        }&#13;
    }&#13;
    .navbar-avatar {&#13;
      margin-top: -4px;&#13;
    }&#13;
    a#todos_popup {&#13;
      padding-left:0px;&#13;
    }&#13;
    .navbar-nav .open .dropdown-menu &gt; li &gt; a {&#13;
      padding: 10px 20px;&#13;
    }&#13;
    .navbar-header {&#13;
      position:relative;&#13;
      .dropdown-toggle {&#13;
        height: 60px;&#13;
      }&#13;
      .navbar-nav  &gt; li  &gt; a {&#13;
        padding-top: 20px;&#13;
        padding-bottom: 20px;&#13;
        max-height:50px;&#13;
        padding-right:15px;&#13;
        padding-left:15px;&#13;
      }&#13;
    }&#13;
    .temp-mobile {&#13;
      display: inline-block;&#13;
    }&#13;
    .sub-navbar {&#13;
      display: flex;&#13;
      padding-left: 0;&#13;
    }&#13;
&#13;
    .sub-navbar--mobile-view {&#13;
      max-height: 0px;&#13;
      /* Using !important here as we are overriding bootstrap style */&#13;
      overflow-y: hidden !important;&#13;
    }&#13;
    .navbar-nav  &gt; li  &gt; a {&#13;
		padding-top: 20px;&#13;
		padding-bottom: 20px;&#13;
	}&#13;
  }&#13;
}&#13;
&#13;
// Search bar styles in the header (Should always be in the center)&#13;
.header-search {&#13;
   @media screen and (min-width: 768px) {&#13;
      position: absolute;&#13;
      left: 37%;&#13;
      margin: 13px 0;&#13;
      width: 20%;&#13;
   }&#13;
&#13;
   @media (min-width : 320px) and (max-width : 767px) {&#13;
      margin-top: 0 !important;&#13;
      padding-bottom: 10px;&#13;
      float: right;&#13;
      width: 100%;&#13;
   }&#13;
&#13;
   @media (min-width : 768px) and (max-width: 867px) {&#13;
      left: 23% !important;&#13;
   }&#13;
&#13;
   @media (min-width : 868px) and (max-width: 1024px) {&#13;
      left: 27% !important;&#13;
   }&#13;
&#13;
   @media (min-width : 1025px) and (max-width: 1200px) {&#13;
      left: 30% !important;&#13;
   }&#13;
&#13;
   @media (min-width : 1201px) and (max-width: 1400px) {&#13;
      left: 33% !important;&#13;
   }&#13;
}&#13;
&#13;
@media (min-width : 320px) and (max-width : 767px) {&#13;
  .navbar-inverse {&#13;
    .dropdown-menu.case-menu {&#13;
      width: 100%;&#13;
    }&#13;
    .navbar-toggle {&#13;
      border-color: rgba(255, 255, 255, .25);&#13;
    }&#13;
    .navbar-toggle:focus {&#13;
      -webkit-box-shadow: 0rem 0rem 0.5rem #1f8476 &#13;
    }&#13;
    .navbar-nav {&#13;
      display: block;&#13;
      margin: 0;&#13;
&#13;
      .open .dropdown-menu &gt; li &gt; a {&#13;
        padding: 5px 30px;&#13;
      }&#13;
    }&#13;
    .sub-navbar {&#13;
      padding: 0px 0px;&#13;
    }&#13;
    .upper-collapse {&#13;
      width: 100%;&#13;
      padding-bottom: 0px;&#13;
    }&#13;
    .navbar-collapse {&#13;
      padding-top: 0px;&#13;
      padding-left: 0px;&#13;
      overflow: hidden;&#13;
      ul {&#13;
        margin: 0;&#13;
      }&#13;
    }&#13;
    .navbar-header.nav-container {&#13;
      .sub-navbar-overflow-entry-button {&#13;
        float: none;&#13;
        position: absolute;&#13;
        right: 0;&#13;
      }&#13;
      .mobile-view-on-desktop {&#13;
        min-width: 100%;&#13;
        // max-width: 100%; is needed for 400% zoom-level in WCAG resolution&#13;
        max-width: 100%;&#13;
        top: 60px;&#13;
        box-shadow: none;&#13;
&#13;
        .impersonate-and-logout {&#13;
           div &gt; ul &gt; li:first-child {&#13;
             height: auto;&#13;
           }&#13;
         }&#13;
      }&#13;
      .mobile-view-on-desktop.search-visible {&#13;
         top: 53px;&#13;
      }&#13;
&#13;
      &gt; ul {&#13;
        display: inline-block;&#13;
        padding: 10px 10px 0 0;&#13;
        float: right;&#13;
        margin: 0;&#13;
      }&#13;
      &gt; li {&#13;
        display: inline-block; &#13;
      }&#13;
    }&#13;
    .height-adjust {&#13;
      padding: 10px 0px;&#13;
      margin-bottom: 10px;&#13;
    }&#13;
    .popup-edit {&#13;
      background: $color-lightest;&#13;
      position: fixed;&#13;
      top:0; &#13;
      height:100%;&#13;
      margin-top: 0;&#13;
      max-height:100%;&#13;
      width:100%&#13;
    }&#13;
    .navbar-collapse-label {&#13;
      float: right;&#13;
      margin-right: -5px;&#13;
      margin-top: -7px;&#13;
    }&#13;
    button &gt; span.label {&#13;
      padding: .2em .5em .2em;&#13;
    }&#13;
  }&#13;
}&#13;
.navbar-right{&#13;
  .nav{&#13;
    .dropdown{&#13;
      .tooltip{&#13;
        .tooltip-inner{&#13;
        	word-wrap:unset;&#13;
        }&#13;
      }&#13;
    }&#13;
  }&#13;
}&#13;
</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>false</has_preview>
        <id>loaner_hub_header</id>
        <internal>false</internal>
        <link><![CDATA[function pspHeaderLink(scope, element, attrs, controller) {
    $(element).on('click', 'a.navbar-brand', function(e) {
        scope.expanded = false;
    });
    $(element).on('click.nav', '.navbar-collapse.in', function(e) {
        var target = $(e.target);
        if (target.is('a') && !target.hasClass("dropdown-toggle") && target.siblings('.dropdown-menu').length == 0) {
            // collapse mobile nav if clicked an anchor that isn't a dropdown toggle
            scope.expanded = false;
            return;
        }

        // if neither target nor parent is an anchor or the parent anchor is a dropdown-toggle, do nothing
        if (!target.parent().is('a') || target.parent().hasClass("dropdown-toggle") || target.parent().siblings('.dropdown-menu').length > 0)
            return;

        // collapse mobile nav if target is part of a submenu
        if (target.parents("ul.dropdown-menu").length > 0) {
            scope.expanded = false;
            return;
        }

        // collapse mobile nav is target is part of the dropdown
        if (target.parents("div.navbar-collapse").length > 0)
            scope.expanded = false;
    });
    $(element).on('keydown', '.dropdown-menu > .header-menu-item', function(e) {
        var target = e.target;
        if (target.localName === 'a') {
            if (e.keyCode === 37 || e.keyCode === 39) {
                e.preventDefault();
                $(target).parents('li').removeClass('open');
                $(target).parents('li').find('a').focus();
            } else if (e.keyCode === 9) {
                $(target).parents('li').removeClass('open');
            }
        }
    });

    $('body').click(function(event) {
        if ($(event.target).text() !== controller.toursTranslation && !$(event.target).is("[aria-expanded]") && scope.isMobileViewOnDesktopExpanded)
            scope.toggleMobileMenuVisibility();
    });

    // Closing mobile navigation menu after hitting Tab key on Logout option to focus on next DOM element on the page.
    $(document).on('keydown', 'ul > li.logout > a[href*="logout"]', function(keyDownEvent) {
        var TAB_KEY_VALUE = 'Tab';

        if (keyDownEvent.key === TAB_KEY_VALUE && scope.mobileDevice) {
            scope.$applyAsync(function() {
                scope.toggleMobileMenuVisibility();
            });
        }
    });
    $(document).on('keydown', 'ul > li.login', function(keyDownEvent) {
        var TAB_KEY_VALUE = 'Tab';

        if (keyDownEvent.key === TAB_KEY_VALUE && scope.mobileDevice) {
            scope.$applyAsync(function() {
                scope.toggleMobileMenuVisibility();
            });
        }
    });
    // Helper function to handle the arrow key navigation in the header
    function handleKeyPressEvents(e) {
        var target = e.target;
        var querySelector;
        if ($(this).hasClass('main-header-item'))
            querySelector = 'li.main-header-item';
        else if ($(this).hasClass('gt-menu-item'))
            querySelector = 'li.gt-menu-item';

        if (target.localName === 'a') {
            var currentMenuItem = $(target).parents('li');
            var parentUL = currentMenuItem.parents('ul');
            var allMenuItems = parentUL.children(querySelector);
            var firstMenuItem = allMenuItems.first();
            var lastMenuItem = allMenuItems.last();
            var menuItemToFocus;

            // Only Side arrow keys should work for gt-menu-item and only vertical arrow keys should work for main-header-item
            if (querySelector === 'li.gt-menu-item' && !(e.keyCode === 37 || e.keyCode === 39 || e.keyCode === 9))
                return;
            else if (querySelector === 'li.main-header-item' && !(e.keyCode === 38 || e.keyCode === 40))
                return;

            if (querySelector === 'li.gt-menu-item') {
                if (e.keyCode === 9) {
                    $(target).parents('li').removeClass('open');
                    return;
                } else {
                    e.preventDefault();
                    currentMenuItem.removeClass('open');
                }
            } else
                e.preventDefault();

            if (e.keyCode === 37 || e.keyCode === 38) {
                var previousMenuItem = currentMenuItem.prevAll(querySelector);
                currentMenuItem.prevAll(querySelector).first();
                //enable circular navigation
                menuItemToFocus = previousMenuItem.length ? previousMenuItem : lastMenuItem;
                menuItemToFocus.find('a').focus();
            } else if (e.keyCode === 39 || e.keyCode === 40) {
                var nextMenuItem = currentMenuItem.nextAll(querySelector).first();
                //enable circular navigation
                menuItemToFocus = nextMenuItem.length ? nextMenuItem : firstMenuItem;
                menuItemToFocus.find('a').focus();
            }
        }
    }

    // Handler to focus the first element of More Items dropdown on pressing Space/Enter/Down Arrow key.
    $(element).on('keydown', '#more-items-button', function(e) {
        if (e.keyCode === 32 || e.keyCode === 13 || e.keyCode === 40) {
            e.preventDefault();
            var target = e.target;
            var moreItemsDropdown = '#more-items-dropdown';
            $(target).click();
            $(moreItemsDropdown).find('li.header-menu-item a:first').focus();
        }
    });

    // Capturing the arrow key navigation in mega menu for both desktop and mobile view  
    $(element).on('keydown', '.gt-menu-item, .main-header-item', handleKeyPressEvents);

    var rateLimitedCallback = debounce(function() {
        scope.$apply(function() {
            // update current scope based on the new innerWidth and let angular update the view.
            scope.mobileDevice = controller.data.isMobile || (window.innerWidth <= controller.MOBILE_DEVICE_SCREEN_WIDTH);
        });
    }, 250);

    $(window).resize(rateLimitedCallback);

    // This helper returns a function, that, as long as it continues to be invoked, will not
    // be triggered. The function will be called after it stops being called for
    // N milliseconds. If `immediate` is passed, trigger the function on the
    // leading edge, instead of the trailing.
    function debounce(func, wait, immediate) {
        var timeout;
        return function() {
            var context = this,
                args = arguments;
            var later = function() {
                timeout = null;
                if (!immediate) func.apply(context, args);
            };
            var callNow = immediate && !timeout;
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
            if (callNow) func.apply(context, args);
        };
    }
}]]></link>
        <name>Loaner Hub header testing</name>
        <option_schema/>
        <public>true</public>
        <roles/>
        <script><![CDATA[(function() {
    data.isMobile = gs.isMobile();

    data.login_page = $sp.getValue('login_page');

    data.langSelector = GlidePluginManager.isActive('com.glide.i18n') ? $sp.getWidget('sp-lang-selector') : "";
    
	data.showSubHeader = true;
        var urlSuffix=$sp.getPortalRecord().getValue("url_suffix");	
	// Load the Secondary Menu Widget

    var qsConfig = $sp.getValue("quick_start_config");
    var qsConfigJson = qsConfig ? JSON.parse(qsConfig)[0] : {};

    var showSubHeaderString = qsConfigJson.showSubHeader;
    if (!gs.nil(showSubHeaderString))
        switch (showSubHeaderString.toUpperCase()) {
            case "ON_LOG_IN":
                data.showSubHeader = gs.isLoggedIn();
                break;
            case "NEVER":
                data.showSubHeader = false;
                break;
            case "ALWAYS":
            default:
                data.showSubHeader = true;
                break;
        }

    //Initialize menu objects
    data.sub = {};
    data.top = {};

    var menu = $sp.getValue("sp_rectangle_menu");

    if (!gs.nil(menu)) {

        data.sub.menu = $sp.getWidgetFromInstance(menu);

        //Copy sub menu to top menu, we want cart up top and menu items in the sub nav
        data.top.menu = JSON.parse(JSON.stringify(data.sub.menu));

        //Fetching My Items menu item sys_id
        var configOptions = JSON.parse((data.top.menu && data.top.menu.options && data.top.menu.options.widget_parameters) || '{}');
        data.moreItemsSysId = (configOptions.enable_more_items && configOptions.enable_more_items.sysId) || '';

        var subMenu = data.sub.menu;
        var moreItems;
        if (subMenu && subMenu.data) {
            subMenu.data.replace = true;
            // Hide login if menu already has link to login
            data.hasLogin = false;
            var subMenuDataItems = (subMenu.data.menu && subMenu.data.menu.items) || [];
            for (var i in subMenuDataItems) {

                var item = subMenuDataItems[i];
                if (item.sys_id === data.moreItemsSysId)
                    moreItems = item;
                if (item.type === 'page' && item.sp_page === data.login_page)
                    data.hasLogin = true;
            }
        }

        if (moreItems && moreItems.items)
            data.moreItems = moreItems.items;
        if (moreItems && data.moreItems && moreItems.label) {
            // Removing items with no label
            data.moreItems = data.moreItems.filter(function(moreItem) {
                return moreItem.label;
            });

            // Truncating label of items exceeding 60 character limit
            data.moreItems.forEach(function(moreItem) {
                moreItem.shortLabel = (moreItem.label.length > 60) ? (moreItem.label.substring(0, 60) + '...') : moreItem.label;
            });
        }
    
    data.showMoreItems = (moreItems && moreItems.label && data.moreItems && configOptions.enable_more_items) ? (data.moreItems.length > 0 && configOptions.enable_more_items.value) : false;
    if (data.showMoreItems)
        data.moreItemsTitle = data.moreItems.length === 1 ? data.moreItems[0].shortLabel : moreItems.label;
		
		
	//Clean up items that don't belong
    subMenu.data.cartWidget = {};
    subMenu.options.enable_cart = false;
    subMenu.data.showTours = false;

    // Make this true to show Tours menu in main header
    data.top.menu.data.showTours = true;
    data.top.menu.data.hasLogin = data.hasLogin;

    if (data.top.menu && data.top.menu.data && data.top.menu.data.menu && data.top.menu.data.menu.items)
        data.top.menu.data.menu.items = [];	
		
	}
    // Analytics
    data.analyticsSupportEnabled = new GlidePluginManager().isActive('com.sn_content_analytics') && new GlidePluginManager().isActive('com.sn_content_delivery') && !sn_cd.cd_ContentDelivery.isContentPreview($sp);

    data.supportProfilePortal = new sn_sppolaris_theme.UserProfileUtil().getProfileURL(urlSuffix);

    data.loginWidget = $sp.getWidgetFromInstance('login-modal');
})();]]></script>
        <servicenow>false</servicenow>
        <static>false</static>
        <sys_class_name>sp_header_footer</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-06-25 05:31:20</sys_created_on>
        <sys_id>1d8caa1283562210def956d6feaad31c</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>Loaner Hub header testing</sys_name>
        <sys_package display_value="Loaner Vehicle Request and Inventory" source="x_1474716_lva">380367a183a12210def956d6feaad394</sys_package>
        <sys_policy/>
        <sys_scope display_value="Loaner Vehicle Request and Inventory">380367a183a12210def956d6feaad394</sys_scope>
        <sys_update_name>sp_header_footer_1d8caa1283562210def956d6feaad31c</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-06-25 05:31:59</sys_updated_on>
        <template><![CDATA[<!-- Nav bar menu items starts-->
<nav class="navbar-inverse" aria-label="Primary" role="navigation">
  <!-- Piece above searchbar -->
  <div class="clearfix">
    <div class="navbar-header nav-container">
      <!-- Logo -->
      <a class="navbar-brand" ng-if="::!portal.logo" href="?id={{::portal.homepage_dv}}" aria-label="{{::portal.title}}"><span>{{::portal.title}}</span></a>
	    <a class="navbar-brand navbar-brand-logo"
           ng-if="::portal.logo" href="?id={{::portal.homepage_dv}}"
           aria-label="{{::portal.title}}${ - Home Page}"
           data-toggle="tooltip"
           data-placement="bottom"
           data-title="{{::portal.title}}${ - Home}">
        <img ng-src="{{::portal.logo}}" alt="{{::portal.title}}${ - Home Page}"/>
      </a>

      <!-- Mobile Navigation View -->
      <div ng-if="showMobileMenuOnDesktop || mobileDevice">
        <!-- Toggle Button (Hamburger Menu for Mobile View) -->
        <button type="button" 
                class="sub-navbar-overflow-entry-button"
                ng-class="isMobileViewOnDesktopExpanded ? 'close-icon-visible' : ''"
                aria-label="{{isMobileViewOnDesktopExpanded ? '${Hide menu primary navigation}' : '${Show menu primary navigation}'}}" 
                data-toggle="tooltip"
                data-placement="auto bottom" 
                data-original-title="{{isMobileViewOnDesktopExpanded ? '${Hide Menu}' : '${Show Menu}'}}"
                ng-click="toggleMobileMenuVisibility($event)">
          <div ng-if="!isMobileViewOnDesktopExpanded">
             <span class="label label-as-badge label-primary">{{data.todoCount + data.requestCount + cartItemCount}}</span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
          </div>
          <i class="fa fa-close" ng-if="isMobileViewOnDesktopExpanded"></i>
        </button>

        <div class="mobile-view-on-desktop"
             ng-class="mobileDevice && showSearchBar ? 'search-visible' : ''"
             ng-if="isMobileViewOnDesktopExpanded"
             role="presentation">
           
            <div class="height-adjust">
               <ul class="mobile-view-navbar">
                 <!-- Mega Menu & Login functionality (Mobile View) -->
                 <li class="mobile-mega-menu-entry"  ng-if="user.logged_in">
                   <div>
                   	<sp-widget widget="data.sub.menu"></sp-widget>
                   </div>
                 </li>
                 <li>
                   <ul class="main-header-items" ng-if="user.logged_in && !showMobileMegaMenu" role="menu">
                     <li class="main-header-item" ng-if="data.showMoreItems" ng-repeat="item in data.moreItems" role="menuitem">
                       <a ng-if="item.label !== item.shortLabel"
                          href="{{item.href}}"
                          data-toggle="tooltip"
                          data-placement="bottom"
                          data-original-title="${{{item.label}}}"
                          aria-label="${{{item.label}}}">
                          <span ng-bind-html="'${' + item.shortLabel + '}'" aria-hidden="true"></span>
                       </a>
                       <a ng-if="item.label === item.shortLabel"
                          href="{{item.href}}"
                          aria-label="${{{item.label}}}">
                          <span ng-bind-html="'${' + item.shortLabel + '}'" aria-hidden="true"></span>
                       </a>
                     </li>
                     <!-- Cart, tours, and Wishlist (Mobile View) -->
                     <li role="menuitem">
                        <sp-widget widget="data.top.menu" id="menu_item"></sp-widget>
                     </li>
                   </ul>
                 </li>
                 <!--li class="separator" ng-if="!showMobileMegaMenu"></li-->
                 
                 <!-- User Profile -->
                 <li class="m-t-sm m-b-sm m-l-sm" ng-if="(!showMobileMegaMenu && user.logged_in)">
                    <a ng-href="?id={{::data.supportProfilePortal}}" ng-class="getClass(data.link)" aria-label="{{user.name}} ${profile}">
                      <span class="navbar-avatar"><sn-avatar class="avatar-small-medium" show-presence="false" primary="avatarProfile" /></span>
                      <span>{{user.name}}</span>
                    </a>
                 </li>

                 <!-- Logout -->
                 <li class="m-t-sm m-b-sm m-l-sm" ng-if="user.logged_in && !showMobileMegaMenu">
                   		<ul class="nav navbar-nav">
                         <li class="visible-xs-block logout"><a href="{{::portal.logoutUrl}}">${Logout}</a></li>
                      </ul>
                 </li>

                 <!-- Login -->
                 <li class="m-t-sm m-b-sm m-l-sm" ng-if="!showMobileMegaMenu">
                    <ul ng-if="::(!user.logged_in && page.id != portal.login_page_dv && !data.hasLogin)" class="nav navbar-nav">
                       <li class="login"><a href ng-click="::openLogin()">${Login}</a></li>
                    </ul>
                 </li>
               </ul>
          </div>
        </div>
      </div>

      <!-- Header Navbar -->
      <div ng-if="!(showMobileMenuOnDesktop || mobileDevice)" class="navbar-right">
        <div class="height-adjust">
          <ul class="nav navbar-nav" role="menubar" aria-orientation="horizontal">
            <li class="hidden-xs sp-loading-indicator la-sm" ng-class="{'invisible': !loadingIndicator}">
               <div></div>
               <div></div>
               <div></div>
            </li>
            
            <li class="gt-menu-item" id="more-items" role="presentation" ng-if="data.showMoreItems">
              <a ng-if="(data.moreItems.length === 1) && (data.moreItems[0].label !== data.moreItems[0].shortLabel)"
                 href="{{data.moreItems[0].href}}"
                 data-toggle="tooltip"
                 data-placement="bottom"
                 data-original-title="${{{data.moreItems[0].label}}}"
                 aria-label="${{{data.moreItems[0].label}}}"
                 role="menuitem">
                <span ng-bind-html="'${' + data.moreItemsTitle + '}'" aria-hidden="true"></span>
              </a>
              <a ng-if="(data.moreItems.length === 1) && (data.moreItems[0].label === data.moreItems[0].shortLabel)"
                 href="{{data.moreItems[0].href}}"
                 aria-label="${{{data.moreItems[0].label}}}"
                 role="menuitem">
                <span ng-bind-html="'${' + data.moreItemsTitle + '}'" aria-hidden="true"></span>
              </a>
              <a href
                 ng-if="data.moreItems.length > 1"
                 id="more-items-button"
                 data-toggle="dropdown"
                 data-target="more-items-dropdown"
                 data-placement="bottom"
                 aria-label="${{{data.moreItemsTitle}}}"
                 role="menuitem">
                <span ng-bind-html="'${' + data.moreItemsTitle + '}'" aria-hidden="true"></span>
                <i class="fa collapse-margin m-l-xs fa-caret-down"></i>
              </a>
              <ul id="more-items-dropdown" ng-if="data.moreItems.length > 1" class="dropdown-menu"
                  role="menu" aria-label="${{{data.moreItemsTitle}}}">
                <li role="presentation"
                    ng-repeat="item in data.moreItems"
                    class="ng-scope dropdown-menu-line header-menu-item">
                  <a ng-if="item.label !== item.shortLabel"
                     href="{{item.href}}"
                     data-toggle="tooltip"
                     data-placement="bottom"
                     data-original-title="${ {{item.label}} }"
                     aria-label="{{item.label}}"
                     role="menuitem">
                    <span ng-bind-html="'${' + item.shortLabel + '}'" aria-hidden="true"></span>
                  </a>
                  <a ng-if="item.label === item.shortLabel"
                     href="{{item.href}}"
                     aria-label="{{item.label}}"
                     role="menuitem">
                    <span ng-bind-html="'${' + item.shortLabel + '}'" aria-hidden="true"></span>
                  </a>
                </li>
              </ul>
            </li>
            <div sp-navbar-toggle="" class="navbar-right" id="sp-nav-bar">
              <ul ng-if="::(!user.logged_in && page.id != portal.login_page_dv && !data.hasLogin)" class="nav navbar-nav">
                <li class="login"><a href ng-click="openLogin()">${Login}</a></li>
              </ul>
              <ul ng-if="::user.logged_in" class="nav navbar-nav">
                <!-- chat, avatar, and logout -->
                <li class="dropdown hidden-xs">
                  <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">
                    <span class="navbar-avatar"><sn-avatar class="avatar-small-medium" primary="avatarProfile" /></span>
                    <span class="visible-lg-inline">{{::user.name}}</span>
                  </a>
                  <ul class="dropdown-menu">
                    <li><a ng-href="?id={{::data.supportProfilePortal}}">${Profile}</a></li>
                    <li class="logout"><a href="{{::portal.logoutUrl}}">${Logout}</a></li>
                  </ul>
                </li>
                <li class="visible-xs-block"><a ng-href="?id={{::data.supportProfilePortal}}"><span class="navbar-avatar"><sn-avatar class="avatar-small-medium" primary="avatarProfile" /></span>{{::user.name}}</a></li>
                <li class="visible-xs-block logout"><a href="{{::portal.logoutUrl}}">${Logout}</a></li>
              </ul>
            </div>
            <!-- Cart, tours, and Wishlist -->
              <li class="gt-menu-item">
                <sp-widget widget="data.top.menu" id="menu_item"></sp-widget>
              </li>  
              <li class="gt-menu-item">
                <sp-widget widget="::data.langSelector"></sp-widget>
              </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
      
  <!-- Sub Navbar on Desktop -->
  <div class="navbar-collapse sub-navbar clearfix collapse collapsed hidden-xs"
       ng-class="{ 'in': expanded, 'collapsed': !expanded, 'sub-navbar--mobile-view': showMobileMenuOnDesktop }"
       ng-if="data.showSubHeader"
       aria-expanded="false">
    <div>
      <sp-widget widget="data.sub.menu"></sp-widget>
    </div>
  </div>

  <!-- Analytics -->
  <div ng-if="data.analyticsSupportEnabled">
    <widget id="cda-site-analytics" options="{'enable_logging': false}"></widget>
  </div>
</nav>]]></template>
    </sp_header_footer>
    <sys_update_version action="INSERT_OR_UPDATE">
        <action>DELETE</action>
        <application display_value="Loaner Vehicle Request and Inventory">380367a183a12210def956d6feaad394</application>
        <file_path/>
        <instance_id>0b550d97fb674a141feef633beefdc0e</instance_id>
        <instance_name>dev280278</instance_name>
        <name>sp_header_footer_1d8caa1283562210def956d6feaad31c</name>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_header_footer"&gt;&lt;sp_header_footer action="INSERT_OR_UPDATE"&gt;&lt;category&gt;standard&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function pspHeaderController($rootScope, $scope, $window, spUtil, $location, $uibModal, cabrillo, $timeout, i18n, spContextManager) {
    var c = this;
    $scope.avatarProfile = {
		userID: $scope.user.sys_id,
		name: $scope.user.name,
		initials: $window.NOW.user_initials
	  };
	  if ($window.NOW.user_avatar) {
		$scope.avatarProfile.userImage = $window.NOW.user_avatar;
	  }
    // Events fired from/to $rootScope for responsive mobile view.
    c.SHOW_MOBILE_MEGA_MENU = 'showMobileMegaMenu';
    c.SHOW_MOBILE_MENU_ON_DESKTOP = 'showMobileMenuOnDesktop';
    c.TOGGLE_MOBILE_MENU_VISIBILITY = 'toggleMobileMenuVisibility';

    $scope.showSearchBar = true;
    $scope.userID = $scope.user.sys_id;
    $scope.popupType = c.data.isMobile ? 'collapse' : 'dropdown';
    $scope.expanded = false;
    $scope.isMobileViewOnDesktopExpanded = false;
    // $scope.loadingIndicator = $rootScope.loadingIndicator;

    /* Below 2 scope variables (showMobileMenuOnDesktop, showMobileMegaMenu) have counterparts in EC Navigation widget also.
     So whenever we set these variables, make sure to emit an event on rootScope to update them in the former widget as well. */

    // Determines whether to show mobile view on desktop due to oveflow of items in sub navigation bar of header.
    $scope.showMobileMenuOnDesktop = false;
    // Used to hide global navigation tools on mobile while showing mega menu topics in right panel.
    $scope.showMobileMegaMenu = false;

    c.MOBILE_DEVICE_SCREEN_WIDTH = 767;
    $scope.mobileDevice = c.data.isMobile || ($window.innerWidth &lt;= c.MOBILE_DEVICE_SCREEN_WIDTH);

    if (cabrillo.isNative())
        $scope.isViewNative = true;


    $scope.$on("$sp.service_catalog.cart.count", function($evt, count) {
        $scope.cartItemCount = count;
    });

    $scope.$on("$locationChangeSuccess", function(event, data) {
        if (c.data.isMobile) {
            if ($('div#popup_todos_mobile').is(":visible"))
                $('li &gt; a#todos_popup').click();
            else if ($('div#popup_cases_mobile').is(":visible"))
                $('li &gt; a#cases_popup').click();
        } else {
            $('li.open &gt; a#cases_popup').click();
            $('li.open &gt; a#todos_popup').click();
        }
    });

    $scope.openLogin = function() {
        $scope.modalInstance = $uibModal.open({
            templateUrl: 'spPolarisModalLogin',
            scope: $scope
        });

        var pageRoot = angular.element('.sp-page-root');
        $scope.modalInstance.rendered.then(function() {
            var $uibModalStack = $injector.get('$uibModalStack');
            var modalObj = $uibModalStack.getTop();
            var modal = modalObj.value.modalDomEl;

            modal.attr('aria-label', modal.find('.panel-title').html());
            modal.attr('aria-modal', 'true');
            pageRoot.attr('aria-hidden', 'true');
        });

        $scope.modalInstance.closed.then(function() {
            pageRoot.attr('aria-hidden', 'false');
        });
    };

    $rootScope.$on("update.searchpage", function(e, searchPage) {
        $scope.searchPage = searchPage;
    });

    $rootScope.$on('sp.avatar_changed', function() {
        $scope.userID = '';
        $timeout(function() {
            $scope.userID = $scope.user.sys_id;
        });
    });

    $rootScope.$on(c.SHOW_MOBILE_MENU_ON_DESKTOP, function(event, showMobileMenuOnDesktop) {
        if (!showMobileMenuOnDesktop &amp;&amp; $scope.showMobileMenuOnDesktop) {
            $scope.isMobileViewOnDesktopExpanded = false;
        }
        $scope.showMobileMenuOnDesktop = showMobileMenuOnDesktop;
    });

    $rootScope.$on(c.SHOW_MOBILE_MEGA_MENU, function(event, showMobileMegaMenu) {
        $scope.showMobileMegaMenu = showMobileMegaMenu;
    });

    $scope.toggleMobileMenuVisibility = function(event) {
        if (event) {
            event.stopPropagation();
        }
        $scope.isMobileViewOnDesktopExpanded = !$scope.isMobileViewOnDesktopExpanded;
        $scope.expanded = false;
        $scope.showMobileMegaMenu = false;
        $rootScope.$emit(c.SHOW_MOBILE_MEGA_MENU, false);
    };

    $rootScope.$on(c.TOGGLE_MOBILE_MENU_VISIBILITY, function() {
        $scope.toggleMobileMenuVisibility();
    });

    $scope.isHomepage = function() {
        if (!$scope.page.id)
            return true;

        if ($scope.page.id == $scope.portal.homepage_dv)
            return true;

        return false;
    };

    //remove nested ul to fix screen reader issue
    if (scope.data.top &amp;&amp; scope.data.top.menu) {
        $timeout(function() {
            var cartToursWrapper = $('.navbar-header .v' + scope.data.top.menu.sys_id);

            if (!cartToursWrapper.length)
                return;

            var menu = cartToursWrapper.parent().parent();
            var menuItems = cartToursWrapper.children();
            menu.append(menuItems);
            // cartToursWrapper.parent().remove();
        }, 1000);
    }
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;.navbar-inverse {&amp;#13;
  margin-bottom: 0px;&amp;#13;
  border-radius: 0px; &amp;#13;
  background-color: $navbar-inverse-bg;&amp;#13;
  .navbar-header {&amp;#13;
    &amp;amp;.nav-container {&amp;#13;
      width: 100%;&amp;#13;
&amp;#13;
      .sub-navbar-overflow-entry-button {&amp;#13;
        position: relative;&amp;#13;
        float: right;&amp;#13;
        margin: 1.3rem 1.5rem 1.3rem 0;&amp;#13;
        padding: .9rem 1rem;&amp;#13;
        background-color: transparent;&amp;#13;
        background-image: none;&amp;#13;
        border: .1rem solid transparent;&amp;#13;
        border-radius: .4rem;&amp;#13;
        border-color: rgba(255, 255, 255, .25);&amp;#13;
&amp;#13;
       .label {&amp;#13;
         float: right;&amp;#13;
         margin-right: -.5rem;&amp;#13;
         margin-top: -.7rem;&amp;#13;
         padding: .2em .5em .2em;&amp;#13;
       }&amp;#13;
&amp;#13;
       .label-as-badge {&amp;#13;
          font-size: 1.2rem;&amp;#13;
          position: relative;&amp;#13;
          top: -$sp-space--xxs;&amp;#13;
          left: $sp-space--xxs;&amp;#13;
          padding: $sp-space--xxs 5px;&amp;#13;
          margin-left: 0;&amp;#13;
          background-color: $btn-danger-bg;&amp;#13;
          color: $text-white;&amp;#13;
        }&amp;#13;
&amp;#13;
        .icon-bar {&amp;#13;
          display: block;&amp;#13;
          width: 2.2rem;&amp;#13;
          height: .2rem;&amp;#13;
          border-radius: .1rem;&amp;#13;
          background-color: #fff;&amp;#13;
        }&amp;#13;
        .icon-bar + .icon-bar {&amp;#13;
          margin-top: .4rem;&amp;#13;
        }&amp;#13;
&amp;#13;
        &amp;amp;.close-icon-visible {&amp;#13;
          margin-bottom: 0;&amp;#13;
          padding: 0.6rem 1rem;&amp;#13;
        }&amp;#13;
        .fa.fa-close {&amp;#13;
          vertical-align: -6%;&amp;#13;
          font-size: 20px;&amp;#13;
          width: 22px;&amp;#13;
          color: $navbar-inverse-link-color;&amp;#13;
        }&amp;#13;
      }&amp;#13;
    }&amp;#13;
&amp;#13;
    .mobile-view-on-desktop {&amp;#13;
    	position: absolute;&amp;#13;
      z-index: 999;&amp;#13;
      /* 60px is height of the header strip */&amp;#13;
      top: 60px;&amp;#13;
      right: 0;&amp;#13;
      min-height: 500px;&amp;#13;
      max-width: 400px;&amp;#13;
      background-color: $navbar-inverse-bg;&amp;#13;
      box-shadow: 5px 5px 5px $navbar-inverse-link-color;&amp;#13;
      color: $navbar-inverse-link-color;&amp;#13;
&amp;#13;
      .mobile-view-navbar {&amp;#13;
         list-style: none;&amp;#13;
         padding: 0 8px;&amp;#13;
         margin: 0;&amp;#13;
         display: flex;&amp;#13;
         flex-direction: column;&amp;#13;
         border-top: 1px solid darken($navbar-inverse-link-color, 45%);&amp;#13;
&amp;#13;
         .main-header-items {&amp;#13;
           list-style: none;&amp;#13;
           padding: 12px 0 0 16px;&amp;#13;
           margin: 0;&amp;#13;
           display: flex;&amp;#13;
           flex-direction: column;&amp;#13;
&amp;#13;
           &amp;amp; &amp;gt; li {&amp;#13;
             &amp;amp;:not(:last-child) {&amp;#13;
               padding-top: 16px;&amp;#13;
             }&amp;#13;
             // Cart, tours, and Wishlist (Mobile View)&amp;#13;
             .nav.navbar-nav {&amp;#13;
               display: flex;&amp;#13;
               flex-direction: column;&amp;#13;
&amp;#13;
               li {&amp;#13;
                 padding-top: 16px;&amp;#13;
               }&amp;#13;
             }&amp;#13;
           }&amp;#13;
         }&amp;#13;
&amp;#13;
         .mobile-mega-menu-entry {&amp;#13;
           margin: 0 -8px;&amp;#13;
           padding: 28px 16px;&amp;#13;
           background-color: $sp-navbar-divider-color;&amp;#13;
           &amp;#13;
           .dropdown-menu {&amp;#13;
           	background-color: transparent;&amp;#13;
           }&amp;#13;
         }&amp;#13;
         .separator {&amp;#13;
           margin: 20px -8px;&amp;#13;
           border-top: 1px solid darken($navbar-inverse-link-color, 30%);&amp;#13;
         }&amp;#13;
&amp;#13;
         li &amp;gt; a {&amp;#13;
           color: $navbar-inverse-link-color;&amp;#13;
           padding: 0;&amp;#13;
&amp;#13;
           &amp;amp;:hover, &amp;amp;:focus {&amp;#13;
             color: #fff !important;&amp;#13;
             background-color: transparent;&amp;#13;
           }&amp;#13;
           &amp;amp;:focus {&amp;#13;
             box-shadow: inset 0 0 0 0.1rem #fff;&amp;#13;
             padding: $sp-space--xxs * 2; // 4px&amp;#13;
             border: 0.5px solid $navbar-inverse-link-color;&amp;#13;
             border-radius: 4px;&amp;#13;
           }&amp;#13;
         }&amp;#13;
        .header-menu-item &amp;gt; a{&amp;#13;
        	padding: 10px 8px;&amp;#13;
        }&amp;#13;
       }&amp;#13;
&amp;#13;
      .impersonate-and-logout {&amp;#13;
          div &amp;gt; ul &amp;gt; li:first-child {&amp;#13;
            height: 0;&amp;#13;
&amp;#13;
            ul.dropdown-menu {&amp;#13;
              width: 400px;&amp;#13;
              display: block;&amp;#13;
              z-index: inherit;&amp;#13;
              background-color: $navbar-inverse-bg;&amp;#13;
              box-shadow: none;&amp;#13;
              border-radius: 0;&amp;#13;
              padding-left: 2px;&amp;#13;
              padding-bottom: 16px;&amp;#13;
&amp;#13;
              li &amp;gt; a {&amp;#13;
                line-height: 2;&amp;#13;
&amp;#13;
                &amp;amp;:hover, &amp;amp;:focus {&amp;#13;
                  color: #fff !important;&amp;#13;
                  background-color: transparent;&amp;#13;
                }&amp;#13;
                &amp;amp;:focus {&amp;#13;
                  box-shadow: inset 0 0 0 0.1rem #fff;&amp;#13;
                  padding: $sp-space--xxs * 2; // 4px&amp;#13;
                  margin-left: $sp-space--sm * 2; // 16px&amp;#13;
                  border: 0.5px solid $navbar-inverse-link-color;&amp;#13;
                  border-radius: 4px;&amp;#13;
                  width: fit-content;&amp;#13;
                }&amp;#13;
              }&amp;#13;
              li:first-child {&amp;#13;
                display: none;&amp;#13;
              }&amp;#13;
           }&amp;#13;
         }&amp;#13;
       }&amp;#13;
     }&amp;#13;
&amp;#13;
    .navbar-brand {&amp;#13;
      margin: 0;&amp;#13;
      height: 60px;&amp;#13;
      padding: $sp-logo-margin-y 0px 10px 15px;&amp;#13;
      img, span {&amp;#13;
        margin: 0;&amp;#13;
        display: block;&amp;#13;
        max-height: $sp-logo-max-height;&amp;#13;
        max-width: $sp-logo-max-width;&amp;#13;
        position: relative;&amp;#13;
        top: 50%;&amp;#13;
        -webkit-transform: translateY(-50%);&amp;#13;
        -ms-transform: translateY(-50%);&amp;#13;
        transform: translateY(-50%);&amp;#13;
	padding-right: $sp-space--sm;&amp;#13;
      }&amp;#13;
    }&amp;#13;
&amp;#13;
    .navbar-right .dropdown-menu &amp;gt; li &amp;gt; a {&amp;#13;
      &amp;amp;:hover, &amp;amp;:focus {&amp;#13;
        background-color: darken($navbar-inverse-bg, 8%);&amp;#13;
      }&amp;#13;
&amp;#13;
      &amp;amp;:focus {&amp;#13;
        border: 0.5px solid $navbar-inverse-link-color;&amp;#13;
        border-radius: 4px;&amp;#13;
        box-shadow: inset 0 0 0 0.1rem #fff;&amp;#13;
      }&amp;#13;
    }&amp;#13;
  }&amp;#13;
  .dropdown-menu &amp;gt; li &amp;gt; a {&amp;#13;
    color: $navbar-inverse-link-color;&amp;#13;
  }&amp;#13;
  .dropdown-toggle:focus {&amp;#13;
  	outline: thin dotted;&amp;#13;
    outline: 5px auto -webkit-focus-ring-color;&amp;#13;
  }&amp;#13;
  .sub-navbar {&amp;#13;
    background-color: $sp-navbar-divider-color;&amp;#13;
    border: none;&amp;#13;
    width: 100%;&amp;#13;
   &amp;#13;
    #cart-dropdown, #wishlist-menu {&amp;#13;
      display: none;&amp;#13;
      ~ * {&amp;#13;
        display: none !important;&amp;#13;
      }&amp;#13;
    }&amp;#13;
    .navbar-nav &amp;gt; li &amp;gt; a[href="?id=sc_cart"], .navbar-nav &amp;gt; li &amp;gt; a[href="?id=sc_wishlist"] {&amp;#13;
      display: none !important;&amp;#13;
    }&amp;#13;
    .gtd-dropdown-container {&amp;#13;
      display: none;&amp;#13;
    }&amp;#13;
    .open &amp;gt; a, .open &amp;gt; a:focus {&amp;#13;
      background-color: darken($sp-navbar-divider-color, 8%);&amp;#13;
    }&amp;#13;
    #cart-dropdown {&amp;#13;
      display: none;&amp;#13;
      :after {&amp;#13;
        content: "\f0d7";&amp;#13;
        vertical-align: baseline;&amp;#13;
        width: auto;&amp;#13;
        height: auto;&amp;#13;
        border: none;&amp;#13;
        margin-left: 5px !important;&amp;#13;
        display: inline-block;&amp;#13;
        font: normal normal normal 14px/1 FontAwesome;&amp;#13;
        font-size: inherit;&amp;#13;
        text-rendering: auto;&amp;#13;
        -webkit-font-smoothing: antialiased;&amp;#13;
        -moz-osx-font-smoothing: grayscale;&amp;#13;
      }&amp;#13;
    }&amp;#13;
   &amp;#13;
    .dropdown-menu {&amp;#13;
      background-color: $sp-navbar-divider-color;&amp;#13;
      &amp;gt; li &amp;gt; a:hover, &amp;gt; li &amp;gt; a:focus {&amp;#13;
        background-color: darken($sp-navbar-divider-color, 8%);&amp;#13;
	box-shadow:unset;&amp;#13;
      }&amp;#13;
    }&amp;#13;
  }&amp;#13;
  .dropdown-menu {&amp;#13;
    background-color: rgba($navbar-inverse-bg, 0.97);&amp;#13;
    border: none;&amp;#13;
    &amp;amp;.case-menu {&amp;#13;
      right: 0;&amp;#13;
      left: auto;&amp;#13;
      padding: 0;&amp;#13;
      width: 450px;&amp;#13;
      background: $color-lightest;&amp;#13;
      overflow-y: hidden;&amp;#13;
    }&amp;#13;
  }&amp;#13;
  &amp;gt; .open &amp;gt; a:hover, &amp;gt; .open &amp;gt; a:focus  {&amp;#13;
    background-color: darken($navbar-invese-bg, 8%);&amp;#13;
  }&amp;#13;
  .fa-caret-down {&amp;#13;
    vertical-align: middle;&amp;#13;
    margin-top: 2px;&amp;#13;
  }&amp;#13;
  .caret:before {&amp;#13;
    content: "\f0d7";&amp;#13;
  }&amp;#13;
  .caret {&amp;#13;
    vertical-align: baseline;&amp;#13;
    width: auto;&amp;#13;
    height: auto;&amp;#13;
    border: none;&amp;#13;
    margin-left: 5px !important;&amp;#13;
    display: inline-block;&amp;#13;
    font: normal normal normal 14px/1 FontAwesome;&amp;#13;
    font-size: inherit;&amp;#13;
    text-rendering: auto;&amp;#13;
    -webkit-font-smoothing: antialiased;&amp;#13;
    -moz-osx-font-smoothing: grayscale;&amp;#13;
  }&amp;#13;
  .label-as-badge {&amp;#13;
    font-size: 1.2rem;&amp;#13;
    position: relative;&amp;#13;
    top: -$sp-space--sm;&amp;#13;
    left: -$sp-space--xxs;&amp;#13;
    padding: 1px 5px;&amp;#13;
    margin-left: 0;&amp;#13;
    background-color: $btn-danger-bg;&amp;#13;
    color: $text-white;&amp;#13;
  }&amp;#13;
  .navbar {&amp;#13;
    transition: 250ms opacity ease-in-out; &amp;#13;
    -webkit-transition: 250ms opacity ease-in-out; &amp;#13;
    border: 0;&amp;#13;
  }&amp;#13;
  .navbar-fade {&amp;#13;
    opacity: 0.4;&amp;#13;
  }&amp;#13;
  .navbar-collapse {&amp;#13;
    padding-right: 0px;&amp;#13;
  }&amp;#13;
  .case-menu {&amp;#13;
    div#widget-tabs-2 {&amp;#13;
      border: none;&amp;#13;
      &amp;gt; .panel-heading {&amp;#13;
        border: none;&amp;#13;
        border-bottom: 1px solid $border;&amp;#13;
      }&amp;#13;
    }&amp;#13;
  }&amp;#13;
&amp;#13;
  ul.nav.navbar-nav {&amp;#13;
    // Hiding the loading indicator from Header Menu base system widget&amp;#13;
    div.header-loader {&amp;#13;
       display: none;&amp;#13;
    }&amp;#13;
    li.sp-loading-indicator {&amp;#13;
       padding-top: $sp-space--sm * 3;&amp;#13;
       margin-top: $sp-space--xxs;&amp;#13;
    }&amp;#13;
  }&amp;#13;
  &amp;#13;
  #more-items-dropdown {&amp;#13;
    overflow: visible;&amp;#13;
  }&amp;#13;
&amp;#13;
  .cart-dropdown, .wishlist-menu, .gtd-dropdown-container .empty-dropdown {&amp;#13;
    width: 350px;&amp;#13;
    padding: 0;&amp;#13;
    z-index: 1000;&amp;#13;
    border-top-left-radius: 4px !important;&amp;#13;
    border-top-right-radius: 4px !important;&amp;#13;
&amp;#13;
    ul {&amp;#13;
      max-height: 300px;&amp;#13;
      overflow: auto;&amp;#13;
    }&amp;#13;
&amp;#13;
    .subtotal {&amp;#13;
      display: block;&amp;#13;
    }&amp;#13;
&amp;#13;
    .item-image {&amp;#13;
      padding: 0;&amp;#13;
      margin: 0;&amp;#13;
      text-align: center;&amp;#13;
      max-width:100%;&amp;#13;
      height:auto;&amp;#13;
    }&amp;#13;
    label, p {&amp;#13;
      padding: 0;&amp;#13;
      margin: 0;&amp;#13;
    }&amp;#13;
    .media {&amp;#13;
      padding: 0;&amp;#13;
      margin: 0;&amp;#13;
    }&amp;#13;
    .media-left &amp;gt; a {&amp;#13;
      display: block;&amp;#13;
      width: 48px;&amp;#13;
      max-width: 48px;&amp;#13;
    }&amp;#13;
    .media-body {&amp;#13;
      label {&amp;#13;
        font-weight: bold;&amp;#13;
      }&amp;#13;
    }&amp;#13;
    li.media {&amp;#13;
      border-top: 1px solid #cccccc;&amp;#13;
      padding: 1rem;&amp;#13;
    }&amp;#13;
    .panel {&amp;#13;
      margin: 0;&amp;#13;
    }&amp;#13;
    .panel .panel-body {&amp;#13;
      padding: 0;&amp;#13;
    }&amp;#13;
    .btn-clear {&amp;#13;
      color: #333;&amp;#13;
      background-color: #fff;&amp;#13;
    }&amp;#13;
    p.quantity-price {&amp;#13;
      padding-top: 0.5rem;&amp;#13;
      span {&amp;#13;
        color: $text-muted;&amp;#13;
        padding-right: 0.5rem;&amp;#13;
      }&amp;#13;
    }&amp;#13;
    .align-right {&amp;#13;
      text-align: right;&amp;#13;
    }&amp;#13;
  }&amp;#13;
&amp;#13;
  .item-added-tooltip, wishlist-item-added-tooltip {&amp;#13;
    width: 184px;&amp;#13;
    font-size: 14px;&amp;#13;
  }&amp;#13;
&amp;#13;
  .gtd-dropdown-container {&amp;#13;
    .empty-tour-content {&amp;#13;
      text-align: center;&amp;#13;
      margin:40px 20px;&amp;#13;
    }&amp;#13;
    .dropdown-menu li {&amp;#13;
      a {&amp;#13;
        cursor: pointer;&amp;#13;
      }&amp;#13;
      min-width: 20em;&amp;#13;
    }&amp;#13;
    .label-as-badge {&amp;#13;
      width: 12px;&amp;#13;
      height: 12px;&amp;#13;
      display: inline-block;&amp;#13;
      padding: 0px;&amp;#13;
      padding-top: 2px;&amp;#13;
    }&amp;#13;
    .badge-container {&amp;#13;
      display: inline-block;&amp;#13;
      width: 12px;&amp;#13;
    }&amp;#13;
  }&amp;#13;
&amp;#13;
}&amp;#13;
@media screen and (min-width: 768px) {&amp;#13;
  .navbar-inverse {&amp;#13;
    .navbar-right &amp;gt; .navbar-nav &amp;gt; div {&amp;#13;
      float: left;&amp;#13;
    }&amp;#13;
    .navbar-right {&amp;#13;
      margin-right: 10px;&amp;#13;
      &amp;gt; ul {&amp;#13;
        display: -webkit-box;&amp;#13;
        display: -moz-box;&amp;#13;
        display: box;&amp;#13;
&amp;#13;
        -moz-box-orient: horizontal;&amp;#13;
        box-orient: horizontal; &amp;#13;
        -webkit-box-orient: horizontal;&amp;#13;
      }&amp;#13;
      .navbar-nav &amp;gt; li &amp;gt; a {&amp;#13;
        padding-right: 10px;&amp;#13;
        padding-left: 10px;&amp;#13;
      }&amp;#13;
      .header-menu-item &amp;gt; a{&amp;#13;
        	padding: 10px 8px;&amp;#13;
        }&amp;#13;
    }&amp;#13;
    .navbar-avatar {&amp;#13;
      margin-top: -4px;&amp;#13;
    }&amp;#13;
    a#todos_popup {&amp;#13;
      padding-left:0px;&amp;#13;
    }&amp;#13;
    .navbar-nav .open .dropdown-menu &amp;gt; li &amp;gt; a {&amp;#13;
      padding: 10px 20px;&amp;#13;
    }&amp;#13;
    .navbar-header {&amp;#13;
      position:relative;&amp;#13;
      .dropdown-toggle {&amp;#13;
        height: 60px;&amp;#13;
      }&amp;#13;
      .navbar-nav  &amp;gt; li  &amp;gt; a {&amp;#13;
        padding-top: 20px;&amp;#13;
        padding-bottom: 20px;&amp;#13;
        max-height:50px;&amp;#13;
        padding-right:15px;&amp;#13;
        padding-left:15px;&amp;#13;
      }&amp;#13;
    }&amp;#13;
    .temp-mobile {&amp;#13;
      display: inline-block;&amp;#13;
    }&amp;#13;
    .sub-navbar {&amp;#13;
      display: flex;&amp;#13;
      padding-left: 0;&amp;#13;
    }&amp;#13;
&amp;#13;
    .sub-navbar--mobile-view {&amp;#13;
      max-height: 0px;&amp;#13;
      /* Using !important here as we are overriding bootstrap style */&amp;#13;
      overflow-y: hidden !important;&amp;#13;
    }&amp;#13;
    .navbar-nav  &amp;gt; li  &amp;gt; a {&amp;#13;
		padding-top: 20px;&amp;#13;
		padding-bottom: 20px;&amp;#13;
	}&amp;#13;
  }&amp;#13;
}&amp;#13;
&amp;#13;
// Search bar styles in the header (Should always be in the center)&amp;#13;
.header-search {&amp;#13;
   @media screen and (min-width: 768px) {&amp;#13;
      position: absolute;&amp;#13;
      left: 37%;&amp;#13;
      margin: 13px 0;&amp;#13;
      width: 20%;&amp;#13;
   }&amp;#13;
&amp;#13;
   @media (min-width : 320px) and (max-width : 767px) {&amp;#13;
      margin-top: 0 !important;&amp;#13;
      padding-bottom: 10px;&amp;#13;
      float: right;&amp;#13;
      width: 100%;&amp;#13;
   }&amp;#13;
&amp;#13;
   @media (min-width : 768px) and (max-width: 867px) {&amp;#13;
      left: 23% !important;&amp;#13;
   }&amp;#13;
&amp;#13;
   @media (min-width : 868px) and (max-width: 1024px) {&amp;#13;
      left: 27% !important;&amp;#13;
   }&amp;#13;
&amp;#13;
   @media (min-width : 1025px) and (max-width: 1200px) {&amp;#13;
      left: 30% !important;&amp;#13;
   }&amp;#13;
&amp;#13;
   @media (min-width : 1201px) and (max-width: 1400px) {&amp;#13;
      left: 33% !important;&amp;#13;
   }&amp;#13;
}&amp;#13;
&amp;#13;
@media (min-width : 320px) and (max-width : 767px) {&amp;#13;
  .navbar-inverse {&amp;#13;
    .dropdown-menu.case-menu {&amp;#13;
      width: 100%;&amp;#13;
    }&amp;#13;
    .navbar-toggle {&amp;#13;
      border-color: rgba(255, 255, 255, .25);&amp;#13;
    }&amp;#13;
    .navbar-toggle:focus {&amp;#13;
      -webkit-box-shadow: 0rem 0rem 0.5rem #1f8476 &amp;#13;
    }&amp;#13;
    .navbar-nav {&amp;#13;
      display: block;&amp;#13;
      margin: 0;&amp;#13;
&amp;#13;
      .open .dropdown-menu &amp;gt; li &amp;gt; a {&amp;#13;
        padding: 5px 30px;&amp;#13;
      }&amp;#13;
    }&amp;#13;
    .sub-navbar {&amp;#13;
      padding: 0px 0px;&amp;#13;
    }&amp;#13;
    .upper-collapse {&amp;#13;
      width: 100%;&amp;#13;
      padding-bottom: 0px;&amp;#13;
    }&amp;#13;
    .navbar-collapse {&amp;#13;
      padding-top: 0px;&amp;#13;
      padding-left: 0px;&amp;#13;
      overflow: hidden;&amp;#13;
      ul {&amp;#13;
        margin: 0;&amp;#13;
      }&amp;#13;
    }&amp;#13;
    .navbar-header.nav-container {&amp;#13;
      .sub-navbar-overflow-entry-button {&amp;#13;
        float: none;&amp;#13;
        position: absolute;&amp;#13;
        right: 0;&amp;#13;
      }&amp;#13;
      .mobile-view-on-desktop {&amp;#13;
        min-width: 100%;&amp;#13;
        // max-width: 100%; is needed for 400% zoom-level in WCAG resolution&amp;#13;
        max-width: 100%;&amp;#13;
        top: 60px;&amp;#13;
        box-shadow: none;&amp;#13;
&amp;#13;
        .impersonate-and-logout {&amp;#13;
           div &amp;gt; ul &amp;gt; li:first-child {&amp;#13;
             height: auto;&amp;#13;
           }&amp;#13;
         }&amp;#13;
      }&amp;#13;
      .mobile-view-on-desktop.search-visible {&amp;#13;
         top: 53px;&amp;#13;
      }&amp;#13;
&amp;#13;
      &amp;gt; ul {&amp;#13;
        display: inline-block;&amp;#13;
        padding: 10px 10px 0 0;&amp;#13;
        float: right;&amp;#13;
        margin: 0;&amp;#13;
      }&amp;#13;
      &amp;gt; li {&amp;#13;
        display: inline-block; &amp;#13;
      }&amp;#13;
    }&amp;#13;
    .height-adjust {&amp;#13;
      padding: 10px 0px;&amp;#13;
      margin-bottom: 10px;&amp;#13;
    }&amp;#13;
    .popup-edit {&amp;#13;
      background: $color-lightest;&amp;#13;
      position: fixed;&amp;#13;
      top:0; &amp;#13;
      height:100%;&amp;#13;
      margin-top: 0;&amp;#13;
      max-height:100%;&amp;#13;
      width:100%&amp;#13;
    }&amp;#13;
    .navbar-collapse-label {&amp;#13;
      float: right;&amp;#13;
      margin-right: -5px;&amp;#13;
      margin-top: -7px;&amp;#13;
    }&amp;#13;
    button &amp;gt; span.label {&amp;#13;
      padding: .2em .5em .2em;&amp;#13;
    }&amp;#13;
  }&amp;#13;
}&amp;#13;
.navbar-right{&amp;#13;
  .nav{&amp;#13;
    .dropdown{&amp;#13;
      .tooltip{&amp;#13;
        .tooltip-inner{&amp;#13;
        	word-wrap:unset;&amp;#13;
        }&amp;#13;
      }&amp;#13;
    }&amp;#13;
  }&amp;#13;
}&amp;#13;
&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data/&gt;&lt;description/&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;false&lt;/has_preview&gt;&lt;id&gt;loaner_hub_header&lt;/id&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link&gt;&lt;![CDATA[function pspHeaderLink(scope, element, attrs, controller) {
    $(element).on('click', 'a.navbar-brand', function(e) {
        scope.expanded = false;
    });
    $(element).on('click.nav', '.navbar-collapse.in', function(e) {
        var target = $(e.target);
        if (target.is('a') &amp;&amp; !target.hasClass("dropdown-toggle") &amp;&amp; target.siblings('.dropdown-menu').length == 0) {
            // collapse mobile nav if clicked an anchor that isn't a dropdown toggle
            scope.expanded = false;
            return;
        }

        // if neither target nor parent is an anchor or the parent anchor is a dropdown-toggle, do nothing
        if (!target.parent().is('a') || target.parent().hasClass("dropdown-toggle") || target.parent().siblings('.dropdown-menu').length &gt; 0)
            return;

        // collapse mobile nav if target is part of a submenu
        if (target.parents("ul.dropdown-menu").length &gt; 0) {
            scope.expanded = false;
            return;
        }

        // collapse mobile nav is target is part of the dropdown
        if (target.parents("div.navbar-collapse").length &gt; 0)
            scope.expanded = false;
    });
    $(element).on('keydown', '.dropdown-menu &gt; .header-menu-item', function(e) {
        var target = e.target;
        if (target.localName === 'a') {
            if (e.keyCode === 37 || e.keyCode === 39) {
                e.preventDefault();
                $(target).parents('li').removeClass('open');
                $(target).parents('li').find('a').focus();
            } else if (e.keyCode === 9) {
                $(target).parents('li').removeClass('open');
            }
        }
    });

    $('body').click(function(event) {
        if ($(event.target).text() !== controller.toursTranslation &amp;&amp; !$(event.target).is("[aria-expanded]") &amp;&amp; scope.isMobileViewOnDesktopExpanded)
            scope.toggleMobileMenuVisibility();
    });

    // Closing mobile navigation menu after hitting Tab key on Logout option to focus on next DOM element on the page.
    $(document).on('keydown', 'ul &gt; li.logout &gt; a[href*="logout"]', function(keyDownEvent) {
        var TAB_KEY_VALUE = 'Tab';

        if (keyDownEvent.key === TAB_KEY_VALUE &amp;&amp; scope.mobileDevice) {
            scope.$applyAsync(function() {
                scope.toggleMobileMenuVisibility();
            });
        }
    });
    $(document).on('keydown', 'ul &gt; li.login', function(keyDownEvent) {
        var TAB_KEY_VALUE = 'Tab';

        if (keyDownEvent.key === TAB_KEY_VALUE &amp;&amp; scope.mobileDevice) {
            scope.$applyAsync(function() {
                scope.toggleMobileMenuVisibility();
            });
        }
    });
    // Helper function to handle the arrow key navigation in the header
    function handleKeyPressEvents(e) {
        var target = e.target;
        var querySelector;
        if ($(this).hasClass('main-header-item'))
            querySelector = 'li.main-header-item';
        else if ($(this).hasClass('gt-menu-item'))
            querySelector = 'li.gt-menu-item';

        if (target.localName === 'a') {
            var currentMenuItem = $(target).parents('li');
            var parentUL = currentMenuItem.parents('ul');
            var allMenuItems = parentUL.children(querySelector);
            var firstMenuItem = allMenuItems.first();
            var lastMenuItem = allMenuItems.last();
            var menuItemToFocus;

            // Only Side arrow keys should work for gt-menu-item and only vertical arrow keys should work for main-header-item
            if (querySelector === 'li.gt-menu-item' &amp;&amp; !(e.keyCode === 37 || e.keyCode === 39 || e.keyCode === 9))
                return;
            else if (querySelector === 'li.main-header-item' &amp;&amp; !(e.keyCode === 38 || e.keyCode === 40))
                return;

            if (querySelector === 'li.gt-menu-item') {
                if (e.keyCode === 9) {
                    $(target).parents('li').removeClass('open');
                    return;
                } else {
                    e.preventDefault();
                    currentMenuItem.removeClass('open');
                }
            } else
                e.preventDefault();

            if (e.keyCode === 37 || e.keyCode === 38) {
                var previousMenuItem = currentMenuItem.prevAll(querySelector);
                currentMenuItem.prevAll(querySelector).first();
                //enable circular navigation
                menuItemToFocus = previousMenuItem.length ? previousMenuItem : lastMenuItem;
                menuItemToFocus.find('a').focus();
            } else if (e.keyCode === 39 || e.keyCode === 40) {
                var nextMenuItem = currentMenuItem.nextAll(querySelector).first();
                //enable circular navigation
                menuItemToFocus = nextMenuItem.length ? nextMenuItem : firstMenuItem;
                menuItemToFocus.find('a').focus();
            }
        }
    }

    // Handler to focus the first element of More Items dropdown on pressing Space/Enter/Down Arrow key.
    $(element).on('keydown', '#more-items-button', function(e) {
        if (e.keyCode === 32 || e.keyCode === 13 || e.keyCode === 40) {
            e.preventDefault();
            var target = e.target;
            var moreItemsDropdown = '#more-items-dropdown';
            $(target).click();
            $(moreItemsDropdown).find('li.header-menu-item a:first').focus();
        }
    });

    // Capturing the arrow key navigation in mega menu for both desktop and mobile view  
    $(element).on('keydown', '.gt-menu-item, .main-header-item', handleKeyPressEvents);

    var rateLimitedCallback = debounce(function() {
        scope.$apply(function() {
            // update current scope based on the new innerWidth and let angular update the view.
            scope.mobileDevice = controller.data.isMobile || (window.innerWidth &lt;= controller.MOBILE_DEVICE_SCREEN_WIDTH);
        });
    }, 250);

    $(window).resize(rateLimitedCallback);

    // This helper returns a function, that, as long as it continues to be invoked, will not
    // be triggered. The function will be called after it stops being called for
    // N milliseconds. If `immediate` is passed, trigger the function on the
    // leading edge, instead of the trailing.
    function debounce(func, wait, immediate) {
        var timeout;
        return function() {
            var context = this,
                args = arguments;
            var later = function() {
                timeout = null;
                if (!immediate) func.apply(context, args);
            };
            var callNow = immediate &amp;&amp; !timeout;
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
            if (callNow) func.apply(context, args);
        };
    }
}]]&gt;&lt;/link&gt;&lt;name&gt;Loaner Hub header testing&lt;/name&gt;&lt;option_schema/&gt;&lt;public&gt;true&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function() {
    data.isMobile = gs.isMobile();

    data.login_page = $sp.getValue('login_page');

    data.langSelector = GlidePluginManager.isActive('com.glide.i18n') ? $sp.getWidget('sp-lang-selector') : "";
    
	data.showSubHeader = true;
        var urlSuffix=$sp.getPortalRecord().getValue("url_suffix");	
	// Load the Secondary Menu Widget

    var qsConfig = $sp.getValue("quick_start_config");
    var qsConfigJson = qsConfig ? JSON.parse(qsConfig)[0] : {};

    var showSubHeaderString = qsConfigJson.showSubHeader;
    if (!gs.nil(showSubHeaderString))
        switch (showSubHeaderString.toUpperCase()) {
            case "ON_LOG_IN":
                data.showSubHeader = gs.isLoggedIn();
                break;
            case "NEVER":
                data.showSubHeader = false;
                break;
            case "ALWAYS":
            default:
                data.showSubHeader = true;
                break;
        }

    //Initialize menu objects
    data.sub = {};
    data.top = {};

    var menu = $sp.getValue("sp_rectangle_menu");

    if (!gs.nil(menu)) {

        data.sub.menu = $sp.getWidgetFromInstance(menu);

        //Copy sub menu to top menu, we want cart up top and menu items in the sub nav
        data.top.menu = JSON.parse(JSON.stringify(data.sub.menu));

        //Fetching My Items menu item sys_id
        var configOptions = JSON.parse((data.top.menu &amp;&amp; data.top.menu.options &amp;&amp; data.top.menu.options.widget_parameters) || '{}');
        data.moreItemsSysId = (configOptions.enable_more_items &amp;&amp; configOptions.enable_more_items.sysId) || '';

        var subMenu = data.sub.menu;
        var moreItems;
        if (subMenu &amp;&amp; subMenu.data) {
            subMenu.data.replace = true;
            // Hide login if menu already has link to login
            data.hasLogin = false;
            var subMenuDataItems = (subMenu.data.menu &amp;&amp; subMenu.data.menu.items) || [];
            for (var i in subMenuDataItems) {

                var item = subMenuDataItems[i];
                if (item.sys_id === data.moreItemsSysId)
                    moreItems = item;
                if (item.type === 'page' &amp;&amp; item.sp_page === data.login_page)
                    data.hasLogin = true;
            }
        }

        if (moreItems &amp;&amp; moreItems.items)
            data.moreItems = moreItems.items;
        if (moreItems &amp;&amp; data.moreItems &amp;&amp; moreItems.label) {
            // Removing items with no label
            data.moreItems = data.moreItems.filter(function(moreItem) {
                return moreItem.label;
            });

            // Truncating label of items exceeding 60 character limit
            data.moreItems.forEach(function(moreItem) {
                moreItem.shortLabel = (moreItem.label.length &gt; 60) ? (moreItem.label.substring(0, 60) + '...') : moreItem.label;
            });
        }
    
    data.showMoreItems = (moreItems &amp;&amp; moreItems.label &amp;&amp; data.moreItems &amp;&amp; configOptions.enable_more_items) ? (data.moreItems.length &gt; 0 &amp;&amp; configOptions.enable_more_items.value) : false;
    if (data.showMoreItems)
        data.moreItemsTitle = data.moreItems.length === 1 ? data.moreItems[0].shortLabel : moreItems.label;
		
		
	//Clean up items that don't belong
    subMenu.data.cartWidget = {};
    subMenu.options.enable_cart = false;
    subMenu.data.showTours = false;

    // Make this true to show Tours menu in main header
    data.top.menu.data.showTours = true;
    data.top.menu.data.hasLogin = data.hasLogin;

    if (data.top.menu &amp;&amp; data.top.menu.data &amp;&amp; data.top.menu.data.menu &amp;&amp; data.top.menu.data.menu.items)
        data.top.menu.data.menu.items = [];	
		
	}
    // Analytics
    data.analyticsSupportEnabled = new GlidePluginManager().isActive('com.sn_content_analytics') &amp;&amp; new GlidePluginManager().isActive('com.sn_content_delivery') &amp;&amp; !sn_cd.cd_ContentDelivery.isContentPreview($sp);

    data.supportProfilePortal = new sn_sppolaris_theme.UserProfileUtil().getProfileURL(urlSuffix);

    data.loginWidget = $sp.getWidgetFromInstance('login-modal');
})();]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;static&gt;false&lt;/static&gt;&lt;sys_class_name&gt;sp_header_footer&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2025-06-25 05:31:20&lt;/sys_created_on&gt;&lt;sys_id&gt;1d8caa1283562210def956d6feaad31c&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Loaner Hub header testing&lt;/sys_name&gt;&lt;sys_package display_value="Loaner Vehicle Request and Inventory" source="x_1474716_lva"&gt;380367a183a12210def956d6feaad394&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Loaner Vehicle Request and Inventory"&gt;380367a183a12210def956d6feaad394&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_header_footer_1d8caa1283562210def956d6feaad31c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2025-06-25 05:31:59&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;!-- Nav bar menu items starts--&gt;
&lt;nav class="navbar-inverse" aria-label="Primary" role="navigation"&gt;
  &lt;!-- Piece above searchbar --&gt;
  &lt;div class="clearfix"&gt;
    &lt;div class="navbar-header nav-container"&gt;
      &lt;!-- Logo --&gt;
      &lt;a class="navbar-brand" ng-if="::!portal.logo" href="?id={{::portal.homepage_dv}}" aria-label="{{::portal.title}}"&gt;&lt;span&gt;{{::portal.title}}&lt;/span&gt;&lt;/a&gt;
	    &lt;a class="navbar-brand navbar-brand-logo"
           ng-if="::portal.logo" href="?id={{::portal.homepage_dv}}"
           aria-label="{{::portal.title}}${ - Home Page}"
           data-toggle="tooltip"
           data-placement="bottom"
           data-title="{{::portal.title}}${ - Home}"&gt;
        &lt;img ng-src="{{::portal.logo}}" alt="{{::portal.title}}${ - Home Page}"/&gt;
      &lt;/a&gt;

      &lt;!-- Mobile Navigation View --&gt;
      &lt;div ng-if="showMobileMenuOnDesktop || mobileDevice"&gt;
        &lt;!-- Toggle Button (Hamburger Menu for Mobile View) --&gt;
        &lt;button type="button" 
                class="sub-navbar-overflow-entry-button"
                ng-class="isMobileViewOnDesktopExpanded ? 'close-icon-visible' : ''"
                aria-label="{{isMobileViewOnDesktopExpanded ? '${Hide menu primary navigation}' : '${Show menu primary navigation}'}}" 
                data-toggle="tooltip"
                data-placement="auto bottom" 
                data-original-title="{{isMobileViewOnDesktopExpanded ? '${Hide Menu}' : '${Show Menu}'}}"
                ng-click="toggleMobileMenuVisibility($event)"&gt;
          &lt;div ng-if="!isMobileViewOnDesktopExpanded"&gt;
             &lt;span class="label label-as-badge label-primary"&gt;{{data.todoCount + data.requestCount + cartItemCount}}&lt;/span&gt;
             &lt;span class="icon-bar"&gt;&lt;/span&gt;
             &lt;span class="icon-bar"&gt;&lt;/span&gt;
             &lt;span class="icon-bar"&gt;&lt;/span&gt;
          &lt;/div&gt;
          &lt;i class="fa fa-close" ng-if="isMobileViewOnDesktopExpanded"&gt;&lt;/i&gt;
        &lt;/button&gt;

        &lt;div class="mobile-view-on-desktop"
             ng-class="mobileDevice &amp;&amp; showSearchBar ? 'search-visible' : ''"
             ng-if="isMobileViewOnDesktopExpanded"
             role="presentation"&gt;
           
            &lt;div class="height-adjust"&gt;
               &lt;ul class="mobile-view-navbar"&gt;
                 &lt;!-- Mega Menu &amp; Login functionality (Mobile View) --&gt;
                 &lt;li class="mobile-mega-menu-entry"  ng-if="user.logged_in"&gt;
                   &lt;div&gt;
                   	&lt;sp-widget widget="data.sub.menu"&gt;&lt;/sp-widget&gt;
                   &lt;/div&gt;
                 &lt;/li&gt;
                 &lt;li&gt;
                   &lt;ul class="main-header-items" ng-if="user.logged_in &amp;&amp; !showMobileMegaMenu" role="menu"&gt;
                     &lt;li class="main-header-item" ng-if="data.showMoreItems" ng-repeat="item in data.moreItems" role="menuitem"&gt;
                       &lt;a ng-if="item.label !== item.shortLabel"
                          href="{{item.href}}"
                          data-toggle="tooltip"
                          data-placement="bottom"
                          data-original-title="${{{item.label}}}"
                          aria-label="${{{item.label}}}"&gt;
                          &lt;span ng-bind-html="'${' + item.shortLabel + '}'" aria-hidden="true"&gt;&lt;/span&gt;
                       &lt;/a&gt;
                       &lt;a ng-if="item.label === item.shortLabel"
                          href="{{item.href}}"
                          aria-label="${{{item.label}}}"&gt;
                          &lt;span ng-bind-html="'${' + item.shortLabel + '}'" aria-hidden="true"&gt;&lt;/span&gt;
                       &lt;/a&gt;
                     &lt;/li&gt;
                     &lt;!-- Cart, tours, and Wishlist (Mobile View) --&gt;
                     &lt;li role="menuitem"&gt;
                        &lt;sp-widget widget="data.top.menu" id="menu_item"&gt;&lt;/sp-widget&gt;
                     &lt;/li&gt;
                   &lt;/ul&gt;
                 &lt;/li&gt;
                 &lt;!--li class="separator" ng-if="!showMobileMegaMenu"&gt;&lt;/li--&gt;
                 
                 &lt;!-- User Profile --&gt;
                 &lt;li class="m-t-sm m-b-sm m-l-sm" ng-if="(!showMobileMegaMenu &amp;&amp; user.logged_in)"&gt;
                    &lt;a ng-href="?id={{::data.supportProfilePortal}}" ng-class="getClass(data.link)" aria-label="{{user.name}} ${profile}"&gt;
                      &lt;span class="navbar-avatar"&gt;&lt;sn-avatar class="avatar-small-medium" show-presence="false" primary="avatarProfile" /&gt;&lt;/span&gt;
                      &lt;span&gt;{{user.name}}&lt;/span&gt;
                    &lt;/a&gt;
                 &lt;/li&gt;

                 &lt;!-- Logout --&gt;
                 &lt;li class="m-t-sm m-b-sm m-l-sm" ng-if="user.logged_in &amp;&amp; !showMobileMegaMenu"&gt;
                   		&lt;ul class="nav navbar-nav"&gt;
                         &lt;li class="visible-xs-block logout"&gt;&lt;a href="{{::portal.logoutUrl}}"&gt;${Logout}&lt;/a&gt;&lt;/li&gt;
                      &lt;/ul&gt;
                 &lt;/li&gt;

                 &lt;!-- Login --&gt;
                 &lt;li class="m-t-sm m-b-sm m-l-sm" ng-if="!showMobileMegaMenu"&gt;
                    &lt;ul ng-if="::(!user.logged_in &amp;&amp; page.id != portal.login_page_dv &amp;&amp; !data.hasLogin)" class="nav navbar-nav"&gt;
                       &lt;li class="login"&gt;&lt;a href ng-click="::openLogin()"&gt;${Login}&lt;/a&gt;&lt;/li&gt;
                    &lt;/ul&gt;
                 &lt;/li&gt;
               &lt;/ul&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;!-- Header Navbar --&gt;
      &lt;div ng-if="!(showMobileMenuOnDesktop || mobileDevice)" class="navbar-right"&gt;
        &lt;div class="height-adjust"&gt;
          &lt;ul class="nav navbar-nav" role="menubar" aria-orientation="horizontal"&gt;
            &lt;li class="hidden-xs sp-loading-indicator la-sm" ng-class="{'invisible': !loadingIndicator}"&gt;
               &lt;div&gt;&lt;/div&gt;
               &lt;div&gt;&lt;/div&gt;
               &lt;div&gt;&lt;/div&gt;
            &lt;/li&gt;
            
            &lt;li class="gt-menu-item" id="more-items" role="presentation" ng-if="data.showMoreItems"&gt;
              &lt;a ng-if="(data.moreItems.length === 1) &amp;&amp; (data.moreItems[0].label !== data.moreItems[0].shortLabel)"
                 href="{{data.moreItems[0].href}}"
                 data-toggle="tooltip"
                 data-placement="bottom"
                 data-original-title="${{{data.moreItems[0].label}}}"
                 aria-label="${{{data.moreItems[0].label}}}"
                 role="menuitem"&gt;
                &lt;span ng-bind-html="'${' + data.moreItemsTitle + '}'" aria-hidden="true"&gt;&lt;/span&gt;
              &lt;/a&gt;
              &lt;a ng-if="(data.moreItems.length === 1) &amp;&amp; (data.moreItems[0].label === data.moreItems[0].shortLabel)"
                 href="{{data.moreItems[0].href}}"
                 aria-label="${{{data.moreItems[0].label}}}"
                 role="menuitem"&gt;
                &lt;span ng-bind-html="'${' + data.moreItemsTitle + '}'" aria-hidden="true"&gt;&lt;/span&gt;
              &lt;/a&gt;
              &lt;a href
                 ng-if="data.moreItems.length &gt; 1"
                 id="more-items-button"
                 data-toggle="dropdown"
                 data-target="more-items-dropdown"
                 data-placement="bottom"
                 aria-label="${{{data.moreItemsTitle}}}"
                 role="menuitem"&gt;
                &lt;span ng-bind-html="'${' + data.moreItemsTitle + '}'" aria-hidden="true"&gt;&lt;/span&gt;
                &lt;i class="fa collapse-margin m-l-xs fa-caret-down"&gt;&lt;/i&gt;
              &lt;/a&gt;
              &lt;ul id="more-items-dropdown" ng-if="data.moreItems.length &gt; 1" class="dropdown-menu"
                  role="menu" aria-label="${{{data.moreItemsTitle}}}"&gt;
                &lt;li role="presentation"
                    ng-repeat="item in data.moreItems"
                    class="ng-scope dropdown-menu-line header-menu-item"&gt;
                  &lt;a ng-if="item.label !== item.shortLabel"
                     href="{{item.href}}"
                     data-toggle="tooltip"
                     data-placement="bottom"
                     data-original-title="${ {{item.label}} }"
                     aria-label="{{item.label}}"
                     role="menuitem"&gt;
                    &lt;span ng-bind-html="'${' + item.shortLabel + '}'" aria-hidden="true"&gt;&lt;/span&gt;
                  &lt;/a&gt;
                  &lt;a ng-if="item.label === item.shortLabel"
                     href="{{item.href}}"
                     aria-label="{{item.label}}"
                     role="menuitem"&gt;
                    &lt;span ng-bind-html="'${' + item.shortLabel + '}'" aria-hidden="true"&gt;&lt;/span&gt;
                  &lt;/a&gt;
                &lt;/li&gt;
              &lt;/ul&gt;
            &lt;/li&gt;
            &lt;div sp-navbar-toggle="" class="navbar-right" id="sp-nav-bar"&gt;
              &lt;ul ng-if="::(!user.logged_in &amp;&amp; page.id != portal.login_page_dv &amp;&amp; !data.hasLogin)" class="nav navbar-nav"&gt;
                &lt;li class="login"&gt;&lt;a href ng-click="openLogin()"&gt;${Login}&lt;/a&gt;&lt;/li&gt;
              &lt;/ul&gt;
              &lt;ul ng-if="::user.logged_in" class="nav navbar-nav"&gt;
                &lt;!-- chat, avatar, and logout --&gt;
                &lt;li class="dropdown hidden-xs"&gt;
                  &lt;a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown"&gt;
                    &lt;span class="navbar-avatar"&gt;&lt;sn-avatar class="avatar-small-medium" primary="avatarProfile" /&gt;&lt;/span&gt;
                    &lt;span class="visible-lg-inline"&gt;{{::user.name}}&lt;/span&gt;
                  &lt;/a&gt;
                  &lt;ul class="dropdown-menu"&gt;
                    &lt;li&gt;&lt;a ng-href="?id={{::data.supportProfilePortal}}"&gt;${Profile}&lt;/a&gt;&lt;/li&gt;
                    &lt;li class="logout"&gt;&lt;a href="{{::portal.logoutUrl}}"&gt;${Logout}&lt;/a&gt;&lt;/li&gt;
                  &lt;/ul&gt;
                &lt;/li&gt;
                &lt;li class="visible-xs-block"&gt;&lt;a ng-href="?id={{::data.supportProfilePortal}}"&gt;&lt;span class="navbar-avatar"&gt;&lt;sn-avatar class="avatar-small-medium" primary="avatarProfile" /&gt;&lt;/span&gt;{{::user.name}}&lt;/a&gt;&lt;/li&gt;
                &lt;li class="visible-xs-block logout"&gt;&lt;a href="{{::portal.logoutUrl}}"&gt;${Logout}&lt;/a&gt;&lt;/li&gt;
              &lt;/ul&gt;
            &lt;/div&gt;
            &lt;!-- Cart, tours, and Wishlist --&gt;
              &lt;li class="gt-menu-item"&gt;
                &lt;sp-widget widget="data.top.menu" id="menu_item"&gt;&lt;/sp-widget&gt;
              &lt;/li&gt;  
              &lt;li class="gt-menu-item"&gt;
                &lt;sp-widget widget="::data.langSelector"&gt;&lt;/sp-widget&gt;
              &lt;/li&gt;
          &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
      
  &lt;!-- Sub Navbar on Desktop --&gt;
  &lt;div class="navbar-collapse sub-navbar clearfix collapse collapsed hidden-xs"
       ng-class="{ 'in': expanded, 'collapsed': !expanded, 'sub-navbar--mobile-view': showMobileMenuOnDesktop }"
       ng-if="data.showSubHeader"
       aria-expanded="false"&gt;
    &lt;div&gt;
      &lt;sp-widget widget="data.sub.menu"&gt;&lt;/sp-widget&gt;
    &lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- Analytics --&gt;
  &lt;div ng-if="data.analyticsSupportEnabled"&gt;
    &lt;widget id="cda-site-analytics" options="{'enable_logging': false}"&gt;&lt;/widget&gt;
  &lt;/div&gt;
&lt;/nav&gt;]]&gt;&lt;/template&gt;&lt;/sp_header_footer&gt;&lt;/record_update&gt;</payload>
        <payload_hash>1685862446</payload_hash>
        <record_name>Loaner Hub header testing</record_name>
        <reverted_from/>
        <source>3a23af6583a12210def956d6feaad38a</source>
        <source_table>sys_update_set</source_table>
        <state>previous</state>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-06-25 05:31:59</sys_created_on>
        <sys_id>32acea5283562210def956d6feaad351</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_recorded_at>197a592518c0000001</sys_recorded_at>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-06-25 05:31:59</sys_updated_on>
        <type>Header | Footer</type>
        <update_guid>f6acea5202562210ea195712054a5a50</update_guid>
        <update_guid_history>f6acea5202562210ea195712054a5a50:1685862446,998caa128a5622106a8703d97c42ad1e:-701545962</update_guid_history>
    </sys_update_version>
    <sys_metadata_delete action="INSERT_OR_UPDATE">
        <sys_audit_delete display_value="Loaner Hub header testing">d81dae5283562210def956d6feaad354</sys_audit_delete>
        <sys_class_name>sys_metadata_delete</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-06-25 05:33:44</sys_created_on>
        <sys_db_object display_value="" name="sp_header_footer">sp_header_footer</sys_db_object>
        <sys_id>b85da8d7435c4b2f8974562bbb1a7589</sys_id>
        <sys_metadata>1d8caa1283562210def956d6feaad31c</sys_metadata>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Loaner Hub header testing</sys_name>
        <sys_package display_value="Loaner Vehicle Request and Inventory" source="x_1474716_lva">380367a183a12210def956d6feaad394</sys_package>
        <sys_parent/>
        <sys_policy/>
        <sys_scope display_value="Loaner Vehicle Request and Inventory">380367a183a12210def956d6feaad394</sys_scope>
        <sys_scope_delete display_value="">0af4f530209b4d108122cd2327537929</sys_scope_delete>
        <sys_update_name>sp_header_footer_1d8caa1283562210def956d6feaad31c</sys_update_name>
        <sys_update_version display_value="sp_header_footer_1d8caa1283562210def956d6feaad31c">32acea5283562210def956d6feaad351</sys_update_version>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-06-25 05:33:44</sys_updated_on>
    </sys_metadata_delete>
</record_update>
